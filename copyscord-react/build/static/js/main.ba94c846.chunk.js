(this["webpackJsonpcopyscord-react"]=this["webpackJsonpcopyscord-react"]||[]).push([[0],{104:function(e,t,a){e.exports={handler:"UserLogo_handler__3BGJ6",status:"UserLogo_status__1h0xI"}},12:function(e,t,a){e.exports={handler:"FriendList_handler__vNeFm",top:"FriendList_top__3J7Hk",verticalSeparator:"FriendList_verticalSeparator__C5Pl2",list:"FriendList_list__179OJ",title:"FriendList_title__49KdK",subTitle:"FriendList_subTitle__2fSeK",user:"FriendList_user__1PgTU",action:"FriendList_action__mgv_H",userLogo:"FriendList_userLogo__1F5kl",username:"FriendList_username__TOuVL",separator:"FriendList_separator__1DTif",userCode:"FriendList_userCode__3kYA0",contextMenu:"FriendList_contextMenu__1iSxq",contextButton:"FriendList_contextButton__1C5Oh",delete:"FriendList_delete__324dl",cancelButton:"FriendList_cancelButton__2TKxM",deleteButton:"FriendList_deleteButton__1QrmQ"}},13:function(e,t,a){e.exports={handler:"Overview_handler__1cZMK",titleExit:"Overview_titleExit__26uA9",title:"Overview_title__3VT6D",exitButton:"Overview_exitButton__29Wjd",overview:"Overview_overview__1wlWD",logo:"Overview_logo__342z4",imageInput:"Overview_imageInput__1MP-V",changeAvatar:"Overview_changeAvatar__7WKf4",changeName:"Overview_changeName__AzTz6",inputHandler:"Overview_inputHandler__26DW3",input:"Overview_input__28_Xc",save:"Overview_save__2gFM2",errorBorder:"Overview_errorBorder__CZFGk",deleteServerPicture:"Overview_deleteServerPicture__rbL0P"}},135:function(e,t,a){e.exports=a(225)},14:function(e,t,a){e.exports={popupHandler:"AddCreate_popupHandler__2r185",title:"AddCreate_title__F2zhH",top:"AddCreate_top__1PGCP",topContent:"AddCreate_topContent__3xXjf",bot:"AddCreate_bot__RAb1L",botContent:"AddCreate_botContent__1X-yE",backButton:"AddCreate_backButton__3VBGj",createButton:"AddCreate_createButton__1HTHD",joinButton:"AddCreate_joinButton__PrtVe",input:"AddCreate_input__19Z_t",error:"AddCreate_error__1NtCe",alert:"AddCreate_alert__hktmC",closebtn:"AddCreate_closebtn__16e5i"}},15:function(e,t,a){e.exports={slideIn:"ServerName_slideIn__1qtVQ",handler:"ServerName_handler__2nf68",serverName:"ServerName_serverName__rb49u",contextMenu:"ServerName_contextMenu__2KWx1",contextButton:"ServerName_contextButton__1wLLp",leave:"ServerName_leave__1B4tG",normalContext:"ServerName_normalContext__1bexb",leaveButton:"ServerName_leaveButton__UO8qG",cancelButton:"ServerName_cancelButton__2Jm7g",inviteInput:"ServerName_inviteInput__1bp_r",errorBorder:"ServerName_errorBorder__163yc",doneButton:"ServerName_doneButton__k5C5r"}},17:function(e,t,a){e.exports={handler:"Overview_handler__srLRI",titleExit:"Overview_titleExit__3w42h",title:"Overview_title__3jL07",exitButton:"Overview_exitButton__1sL2g",overview:"Overview_overview__2_X2e",subTitle:"Overview_subTitle__9ww3Y",inputHandler:"Overview_inputHandler__GM9DX",input:"Overview_input__1QDUQ",buttonHandler:"Overview_buttonHandler__XEZaG",saveButton:"Overview_saveButton__1RT8o",errorBorder:"Overview_errorBorder__3zNkw"}},190:function(e,t){},22:function(e,t,a){e.exports={popup:"PopupUserProfile_popup__3DEOv",handler:"PopupUserProfile_handler__1uWaF",top:"PopupUserProfile_top__YlU-a",topContent:"PopupUserProfile_topContent__10Gik",space:"PopupUserProfile_space__3vMpr",userNameCode:"PopupUserProfile_userNameCode__2mz50",username:"PopupUserProfile_username__11RUm",userCode:"PopupUserProfile_userCode__3vZDe",navBar:"PopupUserProfile_navBar__3676t",navBarContent:"PopupUserProfile_navBarContent__uw_0A",navButton:"PopupUserProfile_navButton__zCs4L",navActive:"PopupUserProfile_navActive__Dx2ym",bot:"PopupUserProfile_bot__2ce5b",botContent:"PopupUserProfile_botContent__3Fe6j",addFriend:"PopupUserProfile_addFriend__2IK62",addedFriend:"PopupUserProfile_addedFriend__ukQ0i"}},224:function(e,t,a){},225:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(66),o=a.n(c),l=a(1),s=a(35),i=a.n(s),u=a(55),m=a(10),d=a(4),v=a(2),p=(a(90),a(91),r.a.createContext({})),E=function(e){var t=e.children,a=Object(n.useState)({}),c=Object(l.a)(a,2),o=c[0],s=c[1];return r.a.createElement(p.Provider,{value:{activeServer:o,setServer:function(e){s(e)}}},t)},_=(p.Consumer,p),f=a(43),h=a.n(f),b=a(3),g=a(14),C=a.n(g),N=r.a.createContext([]),O=function(e){var t=e.children,a=Object(n.useState)([]),c=Object(l.a)(a,2),o=c[0],s=c[1];return r.a.createElement(N.Provider,{value:{serverList:o,setServers:function(e){s(e)}}},t)},j=(N.Consumer,N),S=a(11),x=a.n(S),y=a(56),B={TopBar:!1,APIUrl:"https://192.168.0.111:8080",eventSocket:"https://192.168.0.111:8008"},k=function(){var e=Object(y.a)(x.a.mark((function e(t){var a,n,r,c,o,l=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>1&&void 0!==l[1]?l[1]:{},n=l.length>2&&void 0!==l[2]?l[2]:null,r=new Headers,n&&r.set("Authorization",n),c=new URL("".concat(B.APIUrl,"/").concat(t)),Object.keys(a).forEach((function(e){return c.searchParams.append(e,a[e])})),e.prev=6,e.next=9,fetch(c.toString(),{method:"GET",mode:"cors",headers:r});case 9:return o=e.sent,e.next=12,o.json();case 12:return e.abrupt("return",e.sent);case 15:return e.prev=15,e.t0=e.catch(6),e.abrupt("return",{error:e.t0});case 18:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(y.a)(x.a.mark((function e(t,a){var n,r,c,o,l,s=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:null,r=s.length>3&&void 0!==s[3]?s[3]:null,c=new Headers,n&&c.set("Authorization",n),o=new URL("".concat(B.APIUrl,"/").concat(t)),Object.keys(a).forEach((function(e){return o.searchParams.append(e,a[e])})),e.prev=6,e.next=9,fetch(o.toString(),{method:"POST",mode:"cors",headers:c,body:r});case 9:return l=e.sent,e.next=12,l.json();case 12:return e.abrupt("return",e.sent);case 15:return e.prev=15,e.t0=e.catch(6),e.abrupt("return",{error:e.t0});case 18:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(t,a){return e.apply(this,arguments)}}(),I=function(){var e=Object(y.a)(x.a.mark((function e(t,a){var n,r,c,o,l=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>2&&void 0!==l[2]?l[2]:null,r=new Headers,n&&r.set("Authorization",n),c=new URL("".concat(B.APIUrl,"/").concat(t)),Object.keys(a).forEach((function(e){return c.searchParams.append(e,a[e])})),e.prev=5,e.next=8,fetch(c.toString(),{method:"DELETE",mode:"cors",headers:r});case 8:return o=e.sent,e.next=11,o.json();case 11:return e.abrupt("return",e.sent);case 14:return e.prev=14,e.t0=e.catch(5),e.abrupt("return",{error:e.t0});case 17:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t,a){return e.apply(this,arguments)}}(),L=function(){var e=Object(y.a)(x.a.mark((function e(t,a){var n,r,c,o,l,s=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:null,r=s.length>3&&void 0!==s[3]?s[3]:null,c=new Headers,n&&c.set("Authorization",n),o=new URL("".concat(B.APIUrl,"/").concat(t)),Object.keys(a).forEach((function(e){return o.searchParams.append(e,a[e])})),e.prev=6,e.next=9,fetch(o.toString(),{method:"PUT",mode:"cors",headers:c,body:r});case 9:return l=e.sent,e.next=12,l.json();case 12:return e.abrupt("return",e.sent);case 15:return e.prev=15,e.t0=e.catch(6),e.abrupt("return",{error:e.t0});case 18:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(t,a){return e.apply(this,arguments)}}(),U=a(228),F=a(20);var A=function(e){var t=e.back,a=e.close,c=Object(U.a)(),o=Object(l.a)(c,1)[0].Authorization,s=Object(n.useState)(""),i=Object(l.a)(s,2),u=i[0],m=i[1],p=Object(n.useState)(""),E=Object(l.a)(p,2),_=E[0],f=E[1],h=Object(n.useContext)(j),g=h.serverList,N=h.setServers,O=Object(F.g)(),S=function(e){if(e.preventDefault(),!_)return m("Server name required");w("server",{name:_},o).then((function(e){var t=e.error,n=e.id,r=e.serverName;t?m("".concat(t[0]?t[0].toUpperCase():"error").concat(t[0]?t.slice(1,t.length):"")):(N([].concat(Object(b.a)(g),[{id:n,logoUrl:"default",name:r}])),O.push("/".concat(n)),a())}))};return r.a.createElement("div",{className:C.a.popupHandler},r.a.createElement("div",{className:C.a.top},r.a.createElement("div",{className:C.a.title},r.a.createElement("p",null,"CREATE YOUR SERVER")),r.a.createElement("form",{onSubmit:S},r.a.createElement("div",{className:C.a.topContent},r.a.createElement("p",{style:{fontWeight:700,fontSize:"11px"}},"SERVER NAME: "),r.a.createElement("input",{value:_,onChange:function(e){return f(e.target.value)},type:"text",className:"".concat(C.a.input," ").concat(u?C.a.error:null)}))),u?r.a.createElement("div",{className:"".concat(C.a.alert)},r.a.createElement("span",{className:C.a.closebtn,onClick:function(){return m("")}},"\xd7"),u):null),r.a.createElement("div",{className:C.a.bot},r.a.createElement("div",{className:C.a.botContent},r.a.createElement("button",{type:"button",onClick:t,className:C.a.backButton},r.a.createElement(d.a,{icon:v.h}),r.a.createElement("p",{style:{marginLeft:5}},"BACK")),r.a.createElement("button",{className:C.a.createButton,type:"submit",onClick:S},"Create"))))};var D=function(e){var t=e.back,a=e.close,c=Object(U.a)(),o=Object(l.a)(c,1)[0].Authorization,s=Object(n.useState)(""),i=Object(l.a)(s,2),u=i[0],m=i[1],p=Object(n.useState)(""),E=Object(l.a)(p,2),_=E[0],f=E[1],h=Object(n.useContext)(j),g=h.serverList,N=h.setServers,O=Object(F.g)(),S=function(e){if(e.preventDefault(),!_)return m("Invitation required");w("server/join",{invitation:_},o).then((function(e){var t=e.error,n=e.serverName,r=e.logoUrl,c=e.id;t?m("".concat(t[0]?t[0].toUpperCase():"error").concat(t[0]?t.slice(1,t.length):"")):(g[0]?N([].concat(Object(b.a)(g),[{id:c,logoUrl:r,name:n}])):N([{id:c,logoUrl:r,name:n}]),O.push("/".concat(c)),a())}))};return r.a.createElement("div",{className:C.a.popupHandler},r.a.createElement("div",{className:C.a.top},r.a.createElement("div",{className:C.a.title,style:{color:"#27AE60"}},r.a.createElement("p",null,"JOIN A SERVER")),r.a.createElement("form",{onSubmit:S},r.a.createElement("div",{className:C.a.topContent},r.a.createElement("p",{style:{fontWeight:700,fontSize:"11px"}},"INVITATION: "),r.a.createElement("input",{type:"text",value:_,onChange:function(e){return f(e.target.value)},className:"".concat(C.a.input," ").concat(u?C.a.error:null)}))),u?r.a.createElement("div",{className:"".concat(C.a.alert)},r.a.createElement("span",{className:C.a.closebtn,onClick:function(){return m("")}},"\xd7"),u):null),r.a.createElement("div",{className:C.a.bot},r.a.createElement("div",{className:C.a.botContent},r.a.createElement("button",{onClick:t,className:C.a.backButton},r.a.createElement(d.a,{icon:v.h}),r.a.createElement("p",{style:{marginLeft:5}},"BACK")),r.a.createElement("button",{className:C.a.joinButton,onClick:S},"Join"))))};var T=function(e){var t=e.outside,a=Object(n.useState)(0),c=Object(l.a)(a,2),o=c[0],s=c[1],i=function(e){e?(e.preventDefault(),e.currentTarget===e.target&&t()):t()};return r.a.createElement("div",{className:h.a.popup,onClick:i},o?o-1?r.a.createElement(D,{close:i,back:function(){return s(0)}}):r.a.createElement(A,{close:i,back:function(){return s(0)}}):r.a.createElement("div",{className:h.a.popupHandler},r.a.createElement("div",{className:h.a.title},"Join or create a server"),r.a.createElement("div",{className:h.a.content},r.a.createElement("div",{className:h.a.joinCreate,onClick:function(){return s(1)}},r.a.createElement("p",{style:{margin:0}},r.a.createElement("span",{style:{fontWeight:700}},"Create")," a server"),r.a.createElement(d.a,{className:h.a.icons,icon:v.n}),r.a.createElement("button",{className:h.a.create},"Create server")),r.a.createElement("div",{className:h.a.joinCreate,onClick:function(){return s(2)}},r.a.createElement("p",{style:{margin:0}},r.a.createElement("span",{style:{fontWeight:700}},"Join")," a server"),r.a.createElement(d.a,{className:h.a.icons,icon:v.o}),r.a.createElement("button",{className:h.a.join},"Join server")))))};var P=function(e){var t=e.active,a=e.name,n=e.logoUrl;return"default"!==n&&n?r.a.createElement("img",{className:t?i.a.active:i.a.image,src:"".concat(B.APIUrl).concat(n),width:"48",height:"48",alt:""}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"".concat(i.a.dm," ").concat(t?i.a.active:null)},a[0].toUpperCase()))},M=function(e){var t=e.serverId,a=e.serverName,c=e.src,o=e.dm,s=e.addServer,p=e.changeServer,E=Object(n.useContext)(_).activeServer,f=Object(n.useState)(!1),h=Object(l.a)(f,2),b=h[0],g=h[1];if(s)return r.a.createElement(r.a.Fragment,null,b?r.a.createElement(T,{outside:function(){return g(!1)}}):null,r.a.createElement(u.a,{animation:!1,content:a.length>30?"".concat(a.substring(0,30),"..."):a,placement:"right",className:"serverTips",arrow:!0},r.a.createElement("div",{className:i.a.button},r.a.createElement("div",{className:"".concat(i.a.dm," ").concat(i.a.addServer),onClick:function(){return g(!0)}},r.a.createElement("p",{className:i.a.addServerCross},"+")))));var C=function(){return r.a.createElement("div",{className:i.a.button},null!=o?r.a.createElement("div",{className:"".concat(i.a.dm," ").concat(E.id===t?i.a.active:null)},r.a.createElement(d.a,{color:"white",icon:v.g})):P({active:E.id===t,name:a,logoUrl:c}))};return r.a.createElement(u.a,{animation:!1,content:a.length>30?"".concat(a.substring(0,30),"..."):a,placement:"right",className:"serverTips",arrow:!0},E.id===t?C():r.a.createElement(m.b,{to:"/".concat(t),style:{textDecoration:"none"},className:i.a.serverButton,onClick:function(){return p(t)}},C()))},R=a(86),H=a.n(R),z=r.a.createContext([]),V=function(e){var t=e.children,a=Object(n.useState)([]),c=Object(l.a)(a,2),o=c[0],s=c[1];return r.a.createElement(z.Provider,{value:{channelsList:o,setChannels:function(e){s(e)}}},t)},q=(z.Consumer,z),W=r.a.createContext({id:"@me"}),J=function(e){var t=e.children,a=(e.activeChannel,Object(n.useState)({id:"@me"})),c=Object(l.a)(a,2),o=c[0],s=c[1];return r.a.createElement(W.Provider,{value:{usersList:o,setUsersList:function(e){s(e)}}},t)},G=(W.Consumer,W),Y=r.a.createContext({}),Z=function(e){var t=e.children,a=Object(n.useState)({}),c=Object(l.a)(a,2),o=c[0],s=c[1];return r.a.createElement(Y.Provider,{value:{currentUser:o,setUser:function(e){s(e)}}},t)},X=(Y.Consumer,Y),K=r.a.createContext({id:"@me"}),Q=function(e){var t=e.children,a=(e.activeChannel,Object(n.useState)({id:"@me"})),c=Object(l.a)(a,2),o=c[0],s=c[1];return r.a.createElement(K.Provider,{value:{activeChannel:o,setChannel:function(e){s(e)}}},t)},$=(K.Consumer,K),ee=r.a.createContext([]),te=function(e){var t=e.children,a=(e.Messages,Object(n.useState)([])),c=Object(l.a)(a,2),o=c[0],s=c[1];return r.a.createElement(ee.Provider,{value:{messages:o,setMessages:function(e){s(e)}}},t)},ae=(ee.Consumer,ee),ne=r.a.createContext([]),re=function(e){var t=e.children,a=Object(n.useState)([]),c=Object(l.a)(a,2),o=c[0],s=c[1];return r.a.createElement(ne.Provider,{value:{voiceUserList:o,setVoiceUsers:function(e){s(e)}}},t)},ce=(ne.Consumer,ne),oe=function(){var e=Object(U.a)(),t=Object(l.a)(e,1)[0].Authorization,a=Object(n.useContext)(j),c=a.serverList,o=a.setServers,s=Object(n.useContext)(ce).setVoiceUsers,i=Object(n.useState)(!1),u=Object(l.a)(i,2),m=u[0],d=u[1],v=Object(F.g)(),p=Object(n.useContext)(_),E=p.activeServer,f=p.setServer,h=Object(n.useContext)(q).setChannels,b=Object(n.useContext)(G).setUsersList,g=Object(n.useContext)(X).currentUser,C=Object(F.h)(),N=C.ServerID,O=C.ChannelID,S=Object(n.useContext)($).setChannel,x=Object(n.useContext)(ae).setMessages;Object(n.useEffect)((function(){m||k("server",{},t).then((function(e){e[0]?(d(!0),o(e)):d(!0)})).catch((function(){v.push("/@me")}))}),[N,t,m,v,o]);var y=Object(n.useCallback)((function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;h([]),b([]),x([]),"@me"!==e&&g.id?(k("server/".concat(e,"/voice"),{},t).then((function(e){e.error||s(e)})),k("server/".concat(e),{},t).then((function(t){if(t.error)v.push("/@me");else{var n,r=t.members.find((function(e){return e.id===g.id})),c=r&&(1===r.role||2===r.role),o=r&&2===r.role;f(Object.assign(t,{isAdmin:c,isOwner:o})),a?t.channels.some((function(e){var t=e.channelsList.find((function(e){return e.id===a}));return!!t&&(n=t)})):t.channels.some((function(e){var t=e.channelsList.find((function(e){return 0===e.type}));return!!t&&(n=t)})),h(t.channels),b(t.members),n&&(S(n),a||v.push("/".concat(e,"/").concat(n.id)))}}))):k("client/dm",{},t).then((function(e){f({id:"@me"}),h(e)}))}),[s,t,g.id,v,S,h,x,f,b]);return Object(n.useEffect)((function(){!E.id&&g.id&&(N?(f({id:N}),y(N,O||null)):(f({id:"@me"}),y("@me")))}),[y,E,N,g.id,f,O]),r.a.createElement("div",{className:H.a.handler},r.a.createElement("div",{className:H.a.serverHandler},r.a.createElement(M,{changeServer:y,serverId:"@me",serverName:"Home",active:!0,dm:!0}),r.a.createElement("div",{className:H.a.serverSeparator}),m&&c[0]&&"error"!==c[0]?c.map((function(e,t){var a=e.id,n=e.logoUrl,c=e.name;return r.a.createElement(M,{key:t,changeServer:y,serverId:a,serverName:c,src:n})})):null,r.a.createElement(M,{serverName:"Add server",addServer:!0})))},le=a(30),se=a(15),ie=a.n(se),ue=a(73),me=a.n(ue);var de=function(e){var t=e.top,a=e.bottom,n=e.outside;return r.a.createElement("div",{className:me.a.popup,onClick:function(e){e.preventDefault(),e.currentTarget===e.target&&n()}},r.a.createElement("div",{className:me.a.popupHandler},r.a.createElement("div",{className:me.a.top},t),r.a.createElement("div",{className:me.a.bottom},a)))},ve=a(7),pe=a.n(ve);var Ee=function(e){var t=e.outside,a=Object(U.a)(),c=Object(l.a)(a,1)[0].Authorization,o=Object(n.useState)(""),s=Object(l.a)(o,2),i=s[0],u=s[1],m=Object(n.useState)(""),d=Object(l.a)(m,2),v=d[0],p=d[1],E=Object(F.h)().ServerID,_=function(e){if(e.preventDefault(),!i)return p("Category name required");w("server/".concat(E,"/category"),{name:i},c).then((function(e){e.error,e.id,e.name;t()}))};return r.a.createElement(de,{outside:t,bottom:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:_,className:pe.a.createButton},r.a.createElement("p",null,"Create category")),r.a.createElement("button",{className:pe.a.cancelButton,onClick:t},r.a.createElement("p",null,"Cancel"))),top:r.a.createElement("div",{className:pe.a.content},r.a.createElement("form",{onSubmit:_},r.a.createElement("div",{className:pe.a.titleHandler},r.a.createElement("p",{className:pe.a.title},"CREATE CATEGORY")),r.a.createElement("div",{className:pe.a.form},r.a.createElement("p",{className:pe.a.subTitle},"CATEGORY NAME"),r.a.createElement("div",{className:pe.a.inputText},r.a.createElement("input",{value:i,onChange:function(e){return u(e.target.value)},maxLength:100,type:"text",className:"".concat(pe.a.channelName," ").concat(v?pe.a.borderError:null)}),v?r.a.createElement("p",{className:pe.a.error},v):null))))})},_e=a(68),fe=a.n(_e);var he=function(e){var t=e.NavBar,a=e.title,n=e.content;return r.a.createElement("div",{className:fe.a.settings},r.a.createElement("div",{className:fe.a.navBar},r.a.createElement("div",{className:fe.a.buttonList},r.a.createElement("div",{className:fe.a.title},r.a.createElement("p",null,a)),t)),r.a.createElement("div",{className:fe.a.content},n))},be=a(62),ge=a.n(be),Ce=a(21),Ne=a(13),Oe=a.n(Ne),je=a(104),Se=a.n(je),xe=["#BDBDBD","#27AE60","#F2994A","#EB5757"],ye=function(e){var t=e.bgcolor,a=e.status,n=e.src,c=e.width;return r.a.createElement("div",{className:Se.a.handler},r.a.createElement("img",{alt:"",width:c||32,height:c||32,style:{borderRadius:"50%"},src:"".concat(B.APIUrl).concat(n)}),null!=a?r.a.createElement("div",{className:Se.a.status,style:{backgroundColor:xe[a],borderColor:t}}):null)};var Be=function(e){var t=e.exit,a=Object(n.useContext)(_),c=a.activeServer,o=a.setServer,s=Object(U.a)(),i=Object(l.a)(s,1)[0].Authorization,u=Object(n.useContext)(j),m=u.serverList,p=u.setServers,E=Object(n.useState)(c.name),f=Object(l.a)(E,2),h=f[0],g=f[1],C=Object(n.useState)(""),N=Object(l.a)(C,2),O=N[0],S=N[1];return r.a.createElement("div",{className:Oe.a.handler},r.a.createElement("div",{className:Oe.a.titleExit},r.a.createElement("p",{className:Oe.a.title},"OVERVIEW"),r.a.createElement("div",{className:Oe.a.exitButton,onClick:t},r.a.createElement(d.a,{icon:v.p}))),r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),h!==c.name){if(!h)return S("Server name required");O&&S(""),L("server/".concat(c.id,"/"),{name:h},i).then((function(e){e.error||(c.name=h,m.some((function(e){return e.id===c.id&&(e.name=h,p(Object(b.a)(m)),!0)})),o(Object(Ce.a)({},c)))}))}}},r.a.createElement("div",{className:Oe.a.overview},r.a.createElement("div",{style:{margin:"0 10px 0 0",display:"flex",alignItems:"center",flexDirection:"column"}},r.a.createElement("label",null,r.a.createElement("input",{type:"file",className:Oe.a.imageInput,onChange:function(e){var t=new FormData;t.append("logo",e.target.files[0]),L("server/".concat(c.id,"/logo"),{},i,t).then((function(e){var t=e.error,a=e.logoUrl;t||(c.logoUrl=a,m.some((function(e){return e.id===c.id&&(e.logoUrl=a,p(Object(b.a)(m)),!0)})),o(Object(Ce.a)({},c)))}))}}),c.logoUrl?"default"===c.logoUrl?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Oe.a.logo},c.name[0].toUpperCase())):r.a.createElement("div",{className:Oe.a.logo},r.a.createElement(ye,{width:128,src:c.logoUrl})):null,r.a.createElement("div",{className:Oe.a.changeAvatar},r.a.createElement("p",null,"CHANGE"),r.a.createElement("p",null,"AVATAR"))),r.a.createElement("div",{className:Oe.a.deleteServerPicture,onClick:function(){I("server/".concat(c.id,"/logo"),{},i).then((function(e){e.error||(c.logoUrl="default",m.some((function(e){return e.id===c.id&&(e.logoUrl="default",p(Object(b.a)(m)),!0)})),o(Object(Ce.a)({},c)))}))}},"REMOVE")),r.a.createElement("div",{style:{padding:"5px 0",display:"flex",flexDirection:"column",justifyContent:"center",width:"100%",position:"relative"}},r.a.createElement("div",{className:Oe.a.changeName},r.a.createElement("div",{style:{position:"absolute",top:30,fontSize:13,color:"#828282",fontWeight:900}},"SERVER NAME:"),r.a.createElement("div",{className:"".concat(Oe.a.inputHandler," ").concat(O?Oe.a.errorBorder:null)},r.a.createElement("input",{value:h,onChange:function(e){return g(e.target.value)},type:"text",className:Oe.a.input})),O?r.a.createElement("p",{style:{color:"#EB5757",lineHeight:0}},O):null),r.a.createElement("div",{style:{position:"absolute",bottom:0,right:0}},r.a.createElement("button",{className:Oe.a.save,type:"submit"},"Save"))))))},ke=a(42),we=a.n(ke);var Ie=function(e){var t=e.name,a=e.code,n=e.logoUrl,c=e.id,o=e.author,l=e.authorLogo,s=e.authorCode,i=e.removeBan;return r.a.createElement("div",{className:we.a.handler},r.a.createElement("div",{className:we.a.banned},r.a.createElement(ye,{width:35,src:"".concat(n)}),r.a.createElement("p",null,t.length>30?"".concat(t.substr(0,30),"..."):t,"#",a.toString().padStart(4,"0"))),r.a.createElement("div",{className:we.a.banned},r.a.createElement("p",{style:{marginRight:5}},"Banned by: "),r.a.createElement(ye,{width:35,src:"".concat(l)}),r.a.createElement("p",null,o.length>30?"".concat(o.substr(0,30),"..."):o,"#",s.toString().padStart(4,"0"))),r.a.createElement("div",{className:we.a.removeBan,onClick:function(){return i(c)}},r.a.createElement(d.a,{icon:v.p})))},Le=a(18);var Ue=function(e){var t=e.exit,a=Object(n.useState)([]),c=Object(l.a)(a,2),o=c[0],s=c[1],i=Object(n.useContext)(_).activeServer,u=Object(U.a)(),m=Object(l.a)(u,1)[0].Authorization;Object(n.useEffect)((function(){k("server/".concat(i.id,"/bans"),{},m).then((function(e){s(e)}))}),[m,i.id]);var p=function(e){I("server/".concat(i.id,"/bans/").concat(e),{},m).then((function(t){t.error||o.some((function(t,a){return t.banned.id===e&&(o.splice(a,1),s(Object(b.a)(o)),!0)}))}))};return r.a.createElement("div",{className:Oe.a.handler},r.a.createElement("div",{className:Oe.a.titleExit},r.a.createElement("p",{className:Oe.a.title},"BANS"),r.a.createElement("div",{className:Oe.a.exitButton,onClick:t},r.a.createElement(d.a,{icon:v.p}))),r.a.createElement(Le.Scrollbars,{autoHide:!0,style:{flex:1}},r.a.createElement("div",{style:{marginRight:36,height:"100%",padding:"15px 0"}},o[0]?o.map((function(e,t){return r.a.createElement(Ie,{key:t,name:e.banned.username,code:e.banned.userCode,logoUrl:e.banned.logoUrl,id:e.banned.id,author:e.author.username,authorLogo:e.author.logoUrl,authorCode:e.author.userCode,removeBan:p})})):r.a.createElement("div",{style:{color:"#FFFFFF",fontWeight:900}},"Nothing to show"))))};var Fe=function(e){var t=e.name,a=e.code,n=e.logoUrl,c=e.invite,o=e.date,l=e.removeInvite;return r.a.createElement("div",{className:we.a.handler},r.a.createElement("div",{className:we.a.banned},r.a.createElement(ye,{width:35,src:"".concat(n)}),r.a.createElement("p",null,t.length>30?"".concat(t.substr(0,30),"..."):t,"#",a.toString().padStart(4,"0"))),r.a.createElement("div",{className:we.a.banned,style:{flex:1}},r.a.createElement("p",null,c)),r.a.createElement("div",{className:we.a.banned},r.a.createElement("p",null,"Creation date: ",new Date(o).toLocaleDateString("en-EN",{day:"numeric",month:"numeric",year:"numeric",hour:"numeric",hour12:!1,minute:"numeric",second:"numeric"}))),r.a.createElement("div",{className:we.a.removeBan,onClick:function(){return l(c)}},r.a.createElement(d.a,{icon:v.p})))};var Ae=function(e){var t=e.exit,a=Object(n.useState)([]),c=Object(l.a)(a,2),o=c[0],s=c[1],i=Object(n.useContext)(_).activeServer,u=Object(U.a)(),m=Object(l.a)(u,1)[0].Authorization;Object(n.useEffect)((function(){k("server/".concat(i.id,"/invites/all"),{},m).then((function(e){s(e)}))}),[m,i.id]);var p=function(e){I("server/".concat(i.id,"/invites/"),{invite:e},m).then((function(t){t.error||o.some((function(t,a){return t.invite===e&&(o.splice(a,1),s(Object(b.a)(o)),!0)}))}))};return r.a.createElement("div",{className:Oe.a.handler},r.a.createElement("div",{className:Oe.a.titleExit},r.a.createElement("p",{className:Oe.a.title},"BANS"),r.a.createElement("div",{className:Oe.a.exitButton,onClick:t},r.a.createElement(d.a,{icon:v.p}))),r.a.createElement(Le.Scrollbars,{autoHide:!0,style:{flex:1}},r.a.createElement("div",{style:{marginRight:36,height:"100%",padding:"15px 0"}},o[0]?o.map((function(e,t){return r.a.createElement(Fe,{key:t,name:e.username,code:e.userCode,logoUrl:e.logoUrl,invite:e.invite,date:e.date,removeInvite:p})})):r.a.createElement("div",{style:{color:"#FFFFFF",fontWeight:900}},"Nothing to show"))))};var De=function(e){var t=e.exit,a=Object(n.useContext)(_).activeServer,c=Object(n.useState)(0),o=Object(l.a)(c,2),s=o[0],i=o[1];return Object(n.useEffect)((function(){var e=function(e){27===e.keyCode&&t()};return window.addEventListener("keyup",e),function(){window.removeEventListener("keyup",e)}}),[t]),r.a.createElement(he,{title:a.name,NavBar:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return 0!==s?i(0):null},className:"".concat(ge.a.navButton," ").concat(0===s?ge.a.activeNav:null)},"Overview"),r.a.createElement("button",{onClick:function(){return 1!==s?i(1):null},className:"".concat(ge.a.navButton," ").concat(1===s?ge.a.activeNav:null)},"Bans"),r.a.createElement("button",{onClick:function(){return 2!==s?i(2):null},className:"".concat(ge.a.navButton," ").concat(2===s?ge.a.activeNav:null)},"Invites")),content:[Be({exit:t}),Ue({exit:t}),Ae({exit:t})][s]})},Te=a(87),Pe=a.n(Te);var Me=function(e,t,a,n){var c=Object(U.a)(),o=Object(l.a)(c,1)[0].Authorization;return r.a.createElement("div",{className:Pe.a.handler},r.a.createElement(Le.Scrollbars,{autoHide:!0,style:{height:"100%"}},t[0]?t.map((function(c,l){return r.a.createElement("div",{key:l,className:Pe.a.invite},r.a.createElement("div",null,c.invite),r.a.createElement("div",null,new Date(c.date).toLocaleDateString("en-EN",{day:"numeric",month:"numeric",year:"numeric",hour:"numeric",hour12:!1,minute:"numeric",second:"numeric"})),r.a.createElement("div",{className:Pe.a.delete,onClick:function(){return function(r){if(1===t.length)return!1;I("server/".concat(e,"/invites"),{invite:r},o).then((function(e){e.error||t.some((function(e,c){return e.invite===r&&(t.splice(c,1),t[0]&&n(t[t.length-1].invite),a(Object(b.a)(t)),!0)}))}))}(c.invite)}},r.a.createElement(d.a,{icon:v.p})))})):r.a.createElement("p",{style:{color:"#FFFFFF"}},"No invites")))};var Re=function(e){var t=e.setPopup,a=e.id,c=Object(n.useState)(""),o=Object(l.a)(c,2),s=o[0],i=o[1],u=Object(n.useState)([]),m=Object(l.a)(u,2),d=m[0],v=m[1],p=Object(n.useState)(""),E=Object(l.a)(p,2),_=E[0],f=E[1],h=Object(n.useState)(0),g=Object(l.a)(h,2),C=g[0],N=g[1],O=Object(U.a)(),j=Object(l.a)(O,1)[0].Authorization;return Object(n.useEffect)((function(){s&&0!==d.length||k("server/".concat(a,"/invites"),{},j).then((function(e){e.error?f("".concat(e.error[0].toUpperCase()).concat(e.error.slice(1,e.error.length))):(_&&f(""),e.length?(v(e),i(e[e.length-1].invite)):w("server/".concat(a,"/invites"),{},j).then((function(e){v([e]),i(e.invite)})))}))}),[j,a,_,d.length,s]),r.a.createElement(de,{outside:function(){return t(!1)},bottom:[r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:ie.a.doneButton,onClick:function(){return t(!1)}},r.a.createElement("p",null,"DONE")),r.a.createElement("button",{className:ie.a.doneButton,onClick:function(){w("server/".concat(a,"/invites"),{},j).then((function(e){var t=e.invite,a=e.date,n=e.error;n?f("".concat(n[0].toUpperCase()).concat(n.slice(1,n.length))):(v([].concat(Object(b.a)(d),[{invite:t,date:a}])),i(t))}))}},r.a.createElement("p",null,"New invite")),r.a.createElement("button",{className:ie.a.doneButton,onClick:function(){return N(1)}},r.a.createElement("p",null,"Manage invite"))),r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:ie.a.cancelButton,onClick:function(){return N(0)}},r.a.createElement("p",null,"Back")))][C],top:[r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("p",{style:{color:"#FFFFFF",fontSize:"12px",fontWeight:900}},"INVITATION :"),r.a.createElement("input",{className:"".concat(ie.a.inviteInput," ").concat(_?ie.a.errorBorder:null),type:"text",value:s,readOnly:!0}),r.a.createElement("div",{style:{fontSize:"13px",color:"#EB5757"}},_)),Me(a,d,v,i)][C]})},He=function(e){var t=e.name,a=e.type,c=e.leaveServer,o=e.deleteServer,s=Object(n.useContext)(_).activeServer,i=Object(n.useState)(!1),u=Object(l.a)(i,2),m=u[0],d=u[1],v=Object(n.useState)(!1),p=Object(l.a)(v,2),E=p[0],f=p[1],h=Object(n.useState)(0),b=Object(l.a)(h,2),g=b[0],C=b[1],N=Object(n.useState)(),O=Object(l.a)(N,2),j=O[0],S=O[1],x=Object(n.useState)(!1),y=Object(l.a)(x,2),B=y[0],k=y[1],w=function(){j.hide(),C(3),f(!0)},I=function(){j.hide(),C(2),f(!0)},L=function(){j.hide(),C(1),f(!0)};return a?r.a.createElement(r.a.Fragment,null,m?r.a.createElement(Ee,{outside:function(){return d(!1)}}):null,B&&s.name?r.a.createElement(De,{exit:function(){return k(!1)}}):null,E?2===g||3===g?r.a.createElement(de,{outside:function(){return f(!1)},bottom:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:ie.a.leaveButton,onClick:function(){f(!1),2===g?o(s.id):c(s.id)}},r.a.createElement("p",null,2===g?"DELETE":"Leave")),r.a.createElement("button",{className:ie.a.cancelButton,onClick:function(){return f(!1)}},r.a.createElement("p",null,"Cancel"))),top:r.a.createElement("p",{style:{color:"#FFFFFF",fontSize:"15px",fontWeight:400}},"Are you sure to ",2===g?r.a.createElement("span",{style:{color:"#EB5757"}},"DELETE"):"leave",r.a.createElement("span",{style:{fontWeight:900}}," '",t.length>30?"".concat(t.substr(0,30),"..."):t,"'"),"?")}):1===g?r.a.createElement(Re,{setPopup:f,id:s.id}):null:null,r.a.createElement(le.a,{trigger:"click",placement:"bottom-start",arrow:!1,offset:[15,5],interactive:!0,hideOnClick:!0,onTrigger:function(e,t){S(e),e.show()},render:function(e,t){return r.a.createElement("div",{className:"".concat(ie.a.contextMenu," ").concat(ie.a.slideIn)},s.isAdmin?r.a.createElement("button",{className:"".concat(ie.a.normalContext," ").concat(ie.a.contextButton),onClick:function(){j.hide(),k(!0)}},"Edit server"):null,r.a.createElement("button",{className:"".concat(ie.a.normalContext," ").concat(ie.a.contextButton),onClick:L},"Invite"),s.isAdmin?r.a.createElement("button",{className:"".concat(ie.a.normalContext," ").concat(ie.a.contextButton),onClick:function(){j.hide(),d(!0)}},"Create category "):null,s.isOwner?r.a.createElement("button",{className:"".concat(ie.a.leave," ").concat(ie.a.contextButton),onClick:I},"DELETE server"):r.a.createElement("button",{className:"".concat(ie.a.leave," ").concat(ie.a.contextButton),onClick:w},"Leave server"))}},r.a.createElement("div",{className:ie.a.handler},r.a.createElement("div",{className:ie.a.serverName},t)))):r.a.createElement("div",{className:ie.a.handler},r.a.createElement("div",{className:ie.a.serverName},r.a.createElement("p",null,t)))},ze=a(54),Ve=a.n(ze),qe=a(44),We=a.n(qe),Je=a(52),Ge=a.n(Je);var Ye=function(e){var t=e.statusChanger,a=Object(n.useContext)(X).currentUser;return r.a.createElement("div",{className:Ge.a.handler},r.a.createElement("div",{onClick:function(){return t(1)},className:"".concat(Ge.a.select," ").concat(1===a.status?Ge.a.active:null)},r.a.createElement("div",{style:{width:15,height:15,borderRadius:"50%",backgroundColor:"#27AE60"}}),r.a.createElement("p",null,"Online")),r.a.createElement("div",{onClick:function(){return t(2)},className:"".concat(Ge.a.select," ").concat(2===a.status?Ge.a.active:null)},r.a.createElement("div",{style:{width:15,height:15,borderRadius:"50%",backgroundColor:"#F2994A"}}),r.a.createElement("p",null,"Idle")),r.a.createElement("div",{onClick:function(){return t(3)},className:"".concat(Ge.a.select," ").concat(3===a.status?Ge.a.active:null)},r.a.createElement("div",{style:{width:15,height:15,borderRadius:"50%",backgroundColor:"#EB5757"}}),r.a.createElement("p",null,"Do not disturb")),r.a.createElement("div",{onClick:function(){return t(0)},className:"".concat(Ge.a.select," ").concat(0===a.status?Ge.a.active:null)},r.a.createElement("div",{style:{width:15,height:15,borderRadius:"50%",backgroundColor:"#BDBDBD"}}),r.a.createElement("p",null,"Offline")))},Ze=a(5),Xe=a.n(Ze);var Ke=function(e){var t=e.exit,a=Object(n.useContext)(X),c=a.currentUser,o=a.setUser,s=Object(n.useState)(!1),i=Object(l.a)(s,2),u=i[0],m=i[1],p=Object(U.a)(),E=Object(l.a)(p,1)[0].Authorization,_=Object(n.useState)(c.username),f=Object(l.a)(_,2),h=f[0],b=f[1],g=Object(n.useState)(c.email),C=Object(l.a)(g,2),N=C[0],O=C[1],j=Object(n.useState)(""),S=Object(l.a)(j,2),x=S[0],y=S[1],B=Object(n.useState)(""),k=Object(l.a)(B,2),w=k[0],F=k[1],A=Object(n.useState)(!1),D=Object(l.a)(A,2),T=D[0],P=D[1],M=Object(n.useState)(""),R=Object(l.a)(M,2),H=R[0],z=R[1],V=Object(n.useState)(""),q=Object(l.a)(V,2),W=q[0],J=q[1],G=Object(n.useState)(""),Y=Object(l.a)(G,2),Z=Y[0],K=Y[1];return r.a.createElement("div",{className:Xe.a.handler},r.a.createElement("div",{className:Xe.a.titleExit},r.a.createElement("p",{className:Xe.a.title},"MY ACCOUNT"),r.a.createElement("div",{className:Xe.a.exitButton,onClick:t},r.a.createElement(d.a,{icon:v.p}))),u?r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=!1,a=!1;if(x||(K("Password required"),t=!0,a=!0),h?W&&J(""):(J("No username"),t=!0),N||(z("No email"),t=!0),/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(N)?H&&z(""):(z("Invalid email"),t=!0),!T||w||a||(t=!0,a=!0,K("New password required")),T&&w===x&&!a?(K("New and old password are the same"),a=!0,t=!0):Z&&!a&&K(""),T&&w.length<5&&!a?K("New password is too short"):Z&&!a&&K(""),!t){var n={username:"",email:""};c.username!==h&&(n.username=h),c.email!==N&&(n.email=N),L("client",{password:x,username:n.username,newpassword:w,email:n.email},E).then((function(e){var t=e.error,a=e.errorCode,n=e.userCode;t?"unauthorized"===t||10006===a?K("Wrong password"):10002===a&&(y(""),F(""),P(!1),m(!1)):(c.email=N,h&&(c.username=h),n&&(c.userCode=n),o(Object(Ce.a)({},c)),y(""),F(""),m(!1),P(!1))}))}}},r.a.createElement("div",{className:Xe.a.userContainer},r.a.createElement("div",{style:{margin:"0 10px 0 0",display:"flex",alignItems:"center",flexDirection:"column"}},r.a.createElement("label",null,r.a.createElement("input",{type:"file",className:Xe.a.imageInput,onChange:function(e){var t=new FormData;t.append("logo",e.target.files[0]),L("client/logo",{},E,t).then((function(e){var t=e.error,a=e.logoUrl;t||(c.logoUrl=a,o(Object(Ce.a)({},c)))}))}}),r.a.createElement(ye,{width:128,src:c.logoUrl}),r.a.createElement("div",{className:Xe.a.changeAvatar},r.a.createElement("p",null,"CHANGE"),r.a.createElement("p",null,"AVATAR"))),r.a.createElement("div",{className:Xe.a.deleteProfilePicture,onClick:function(){I("client/logo",{},E).then((function(e){e.error||(c.logoUrl="/logo/default.png",o(Object(Ce.a)({},c)))}))}},"REMOVE")),r.a.createElement("div",{className:Xe.a.userInfo},r.a.createElement("div",{className:Xe.a.userInfoHandler},r.a.createElement("div",{className:Xe.a.userInfoTitle},"USERNAME"),r.a.createElement("div",{className:"".concat(Xe.a.inputHandler," ").concat(W?Xe.a.errorBorder:null)},r.a.createElement("input",{autoComplete:"false",type:"text",className:Xe.a.input,value:h,onChange:function(e){return b(e.target.value)},maxLength:100})),W?r.a.createElement("div",{className:Xe.a.errorText},W):null),r.a.createElement("div",{className:Xe.a.userInfoHandler},r.a.createElement("div",{className:Xe.a.userInfoTitle},"E-MAIL"),r.a.createElement("div",{className:"".concat(Xe.a.inputHandler," ").concat(H?Xe.a.errorBorder:null)},r.a.createElement("input",{autoComplete:"false",type:"text",className:Xe.a.input,value:N,onChange:function(e){return O(e.target.value)}})),H?r.a.createElement("div",{className:Xe.a.errorText},H):null),T?r.a.createElement("div",{className:Xe.a.userInfoHandler},r.a.createElement("div",{className:Xe.a.userInfoTitle},"NEW PASSWORD"),r.a.createElement("div",{className:Xe.a.inputHandler},r.a.createElement("input",{autoComplete:"new-password",type:"password",className:Xe.a.input,value:w,onChange:function(e){return F(e.target.value)}}))):null,r.a.createElement("div",{className:Xe.a.userInfoHandler},r.a.createElement("div",{className:Xe.a.userInfoTitle},"CURRENT PASSWORD"),r.a.createElement("div",{className:"".concat(Xe.a.inputHandler," ").concat(Z?Xe.a.errorBorder:null)},r.a.createElement("input",{autoComplete:"new-password",type:"password",className:Xe.a.input,value:x,onChange:function(e){return y(e.target.value)}})),Z?r.a.createElement("div",{className:Xe.a.errorText},Z):null),r.a.createElement("div",{style:{padding:"5px 0",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:Xe.a.changePassword,onClick:function(){return P(!T)}},T?"Cancel":"Change password"),r.a.createElement("button",{type:"button",className:"".concat(c.dm?Xe.a.canReceiveDM:Xe.a.changePassword),onClick:function(){return e=!c.dm,void L("client/dmable",{dmFromEveryone:e},E).then((function(t){t.error||(c.dm=e,o(Object(Ce.a)({},c)))}));var e}},c.dm?"DM: open":"DM: close")),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:Xe.a.cancelButton,onClick:function(){m(!1),P(!1)}},r.a.createElement("p",null,"Cancel")),r.a.createElement("button",{className:Xe.a.updateButton,type:"submit"},"Update")))))):r.a.createElement("div",{className:Xe.a.userContainer},r.a.createElement("div",{style:{margin:"0 10px 0 0"}},r.a.createElement(ye,{width:128,src:c.logoUrl})),r.a.createElement("div",{className:Xe.a.userInfo},r.a.createElement("div",{className:Xe.a.userInfoHandler},r.a.createElement("div",{className:Xe.a.userInfoTitle},"USERNAME"),r.a.createElement("div",{className:Xe.a.userInfoText},c.username?c.username.length>30?"".concat(c.username.substr(0,30),"..."):c.username:"loading","#",c.userCode?c.userCode.toString().padStart(4,"0"):"#0000")),r.a.createElement("div",{className:Xe.a.userInfoHandler},r.a.createElement("div",{className:Xe.a.userInfoTitle},"E-MAIL"),r.a.createElement("div",{className:Xe.a.userInfoText},c.email?c.email:"loading..."))),r.a.createElement("div",{className:Xe.a.end},r.a.createElement("button",{className:Xe.a.edit,onClick:function(){return m(!0)}},"EDIT"))))};var Qe=function(e){var t=e.exit,a=Object(U.a)(),c=Object(l.a)(a,3)[2],o=Object(n.useContext)(X).setUser,s=Object(n.useContext)(j).setServers,i=Object(n.useContext)(_).setServer,u=Object(F.g)();return Object(n.useEffect)((function(){var e=function(e){27===e.keyCode&&t()};return window.addEventListener("keyup",e),function(){window.removeEventListener("keyup",e)}}),[t]),r.a.createElement(he,{title:"USER SETTINGS",NavBar:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:Xe.a.navButton},"My account"),r.a.createElement("div",{className:Xe.a.navSeparator}),r.a.createElement("button",{className:Xe.a.logout,onClick:function(){t(),s({}),i({}),o({}),c("Authorization"),u.push("/login")}},"Logout")),content:r.a.createElement(Ke,{exit:t})})},$e=r.a.createContext({}),et=function(e){var t=e.children,a=Object(n.useState)({}),c=Object(l.a)(a,2),o=c[0],s=c[1];return r.a.createElement($e.Provider,{value:{activeVoiceChannel:o,setVoiceChannel:function(e){s(e)}}},t)},tt=($e.Consumer,$e),at=a(69),nt=a.n(at),rt=a(72),ct=a.n(rt),ot=a(132),lt=new Map;var st=function(e){var t=e.voiceSocket,a=e.setVoiceSocket,c=Object(n.useContext)(tt),o=c.activeVoiceChannel,s=c.setVoiceChannel,i=Object(n.useState)(0),u=Object(l.a)(i,2),m=u[0],p=u[1],E=Object(n.useState)(),_=Object(l.a)(E,2),f=_[0],h=_[1],b=Object(n.useState)(!1),g=Object(l.a)(b,2),C=g[0],N=g[1],O=Object(U.a)(),j=Object(l.a)(O,1)[0].Authorization,S=Object(n.useCallback)((function(){N(!0),t&&t.disconnect(),a(null),s({}),p(0),N(!1)}),[t,a,s]);return Object(n.useEffect)((function(){Object(y.a)(x.a.mark((function e(){var a,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&o.id!==o&&(t.emit("joinChannel",{serverId:o.serverID,channelId:o.id,authorizationToken:j}),t.on("problem","[VOICE SOCKET ERROR]: "+console.log),t.removeListener("rtpCapabilities"),t.on("rtpCapabilities",function(){var e=Object(y.a)(x.a.mark((function e(r){var c,o,s,i,u;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.routerRtpCapabilities,o=r.receiverTransportOption,s=r.senderTransportOption,i=new ot.Device,e.next=4,i.load({routerRtpCapabilities:c});case 4:return e.next=6,i.createRecvTransport(o);case 6:return a=e.sent,e.next=9,i.createSendTransport(s);case 9:return(n=e.sent).on("connect",(function(e,a){var n=e.dtlsParameters;t.emit("connectMe",{type:0,dtlsParameters:n}),t.on("transportConnected",a)})),n.on("produce",(function(e,a){t.emit("produceMe",{producerOptions:e}),t.on("transportProduced",a)})),a.on("connect",(function(e,a){var n=e.dtlsParameters;t.emit("connectMe",{type:1,dtlsParameters:n}),t.on("transportConnected",a)})),t.removeListener("statusUpdate"),t.on("statusUpdate",(function(e){3===e&&(p(1),t.emit("producerList"))})),t.removeListener("producerList"),t.on("producerList",(function(e){var a=Object(l.a)(e,2),n=a[0],r=a[1];n.forEach((function(e){e!==r&&t.emit("consumeMe",{rtpCapabilities:i.rtpCapabilities,producerId:e})}))})),e.next=19,navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!1}});case 19:return u=e.sent,e.next=22,n.produce({track:u.getTracks()[0]});case 22:t.removeListener("newUser"),t.on("newUser",(function(e){var a=Object(l.a)(e,2),n=(a[0],a[1]);t.emit("consumeMe",{rtpCapabilities:i.rtpCapabilities,producerId:n})})),t.removeListener("consumerProduced"),t.on("consumerProduced",function(){var e=Object(y.a)(x.a.mark((function e(t){var n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.consume(t);case 2:return n=e.sent,(r=document.createElement("audio")).srcObject=new MediaStream([n.track]),e.next=7,r.play();case 7:lt.set(t.producerId,r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.removeListener("removeProducer"),t.on("removeProducer",(function(e){lt.delete(e)}));case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})))()}),[t,p,o,j]),Object(n.useEffect)((function(){t||C||f===o.id?t&&f!==o.id&&!C&&(t.disconnect(),lt.clear(),k("channels/".concat(o.serverID,"/").concat(o.id,"/voice/connect"),{},j).then((function(e){var t=e.ip,n=e.port;e.error||(h(o.id),a(ct()("https://".concat(t,":").concat(n))),p(0))}))):k("channels/".concat(o.serverID,"/").concat(o.id,"/voice/connect"),{},j).then((function(e){var t=e.ip,n=e.port;e.error||(h(o.id),a(ct()("https://".concat(t,":").concat(n))),p(0))}))}),[a,o,s,j,t,p,f,C]),r.a.createElement("div",{className:nt.a.handler},r.a.createElement("div",null,m?r.a.createElement("div",{className:nt.a.connected},"Connected"):r.a.createElement("div",{className:nt.a.connecting},"Connecting..."),r.a.createElement("div",{className:nt.a.channelName},"@",o?o.name:null)),r.a.createElement("div",null,r.a.createElement("div",{className:nt.a.disconnect,onClick:S},r.a.createElement(d.a,{icon:v.l}))))},it=function(){var e=Object(n.useContext)(X),t=e.currentUser,a=e.setUser,c=Object(n.useState)(!1),o=Object(l.a)(c,2),s=o[0],i=o[1],m=Object(U.a)(),p=Object(l.a)(m,1)[0].Authorization,E=Object(n.useState)(!1),_=Object(l.a)(E,2),f=_[0],h=_[1],b=Object(n.useState)(!1),g=Object(l.a)(b,2),C=g[0],N=g[1],O=Object(n.useContext)(tt).activeVoiceChannel,j=Object(n.useState)(),S=Object(l.a)(j,2),x=S[0],y=S[1];!s&&t.id&&i(!0);var B=Object(n.useState)(!1),w=Object(l.a)(B,2),I=w[0],F=w[1],A=Object(n.useState)(!1),D=Object(l.a)(A,2),T=D[0],P=D[1];Object(n.useEffect)((function(){t.id||k("client",{},p).then((function(e){var t=e.id,n=e.username,r=e.logoUrl,c=e.userCode,o=e.status,l=e.email,s=e.dm;e.error||a({id:t,username:n,logoUrl:r,userCode:c,status:o,email:l,dm:s})}))}),[t.id,p,a]);var M=Object(n.useCallback)((function(){P(!T),x&&(T?x.emit("unmuteMe"):x.emit("muteMe"))}),[P,T,x]),R=Object(n.useCallback)((function(){F(!I),x&&(I?x.emit("undeafMe"):(T||M(),x.emit("deafMe")))}),[F,I,T,M,x]);return r.a.createElement(r.a.Fragment,null,O.id?r.a.createElement(st,{voiceSocket:x,setVoiceSocket:y}):null,f?r.a.createElement(Ye,{statusChanger:function(e){L("client/status",{status:e},p).then((function(n){n.error||(t.status=e,a(Object(Ce.a)({},t))),h(!f)}))},status:t.status}):null,C?r.a.createElement(Qe,{exit:function(){return N(!1)}}):null,r.a.createElement("div",{className:We.a.handler},r.a.createElement("div",{className:We.a.userLogo,onClick:function(){return h(!f)}},r.a.createElement(ye,{src:s?t.logoUrl:"/logo/default.png",status:t.status,bgcolor:"#222222"})),r.a.createElement("div",{className:We.a.infoWrapper},r.a.createElement("div",{className:We.a.userInfo},r.a.createElement("p",{className:We.a.username},s?t.username:"loading"),r.a.createElement("p",{className:We.a.usercode},"#",s&&t.userCode?t.userCode.toString().padStart(4,"0"):"0000"))),r.a.createElement("div",{className:We.a.controller},r.a.createElement(u.a,{content:"Mute",placement:"top",className:"serverTips",animation:!1,arrow:!0},r.a.createElement("button",{className:We.a.controlButton,onClick:M},r.a.createElement(d.a,{color:"white",icon:T?v.j:v.i}))),r.a.createElement(u.a,{content:"Deaf",placement:"top",className:"serverTips",animation:!1,arrow:!0},r.a.createElement("button",{className:We.a.controlButton,onClick:R},r.a.createElement(d.a,{color:"white",icon:I?v.r:v.s}))),r.a.createElement(u.a,{content:"Settings",placement:"top",className:"serverTips",animation:!1,arrow:!0},r.a.createElement("button",{className:We.a.controlButton,onClick:function(){return N(!0)}},r.a.createElement(d.a,{color:"white",icon:v.c}))))))},ut=a(49),mt=a.n(ut),dt=function(){return r.a.createElement("div",null,r.a.createElement(d.a,{icon:v.q,color:"#999999",fontSize:18,className:mt.a.friendsButton}),r.a.createElement("p",{className:mt.a.friendsText},"Friends"))},vt=function(e){var t=e.friendChannel,a=e.id,c=e.src,o=e.active,s=e.name,i=e.status,u=e.userCode,p=Object(n.useContext)($),E=p.activeChannel,_=p.setChannel,f=Object(U.a)(),h=Object(l.a)(f,1)[0].Authorization,g=Object(F.g)(),C=Object(n.useContext)(q),N=C.channelsList,O=C.setChannels;return r.a.createElement(m.b,{to:t?"/@me":"/@me/"+a,style:{textDecoration:"none"}},r.a.createElement("div",{onClick:function(){var e={id:a,name:s};u&&(e.code=u),_(e)},className:"".concat(o?mt.a.active:""," ").concat(mt.a.handler," ")},t?r.a.createElement(dt,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:mt.a.nameLogo},r.a.createElement("div",{className:mt.a.logo},r.a.createElement(ye,{src:c,status:i,bgcolor:"#343434"})),r.a.createElement("div",{className:mt.a.username},s)),r.a.createElement("div",{className:mt.a.remove,onClick:function(e){e.preventDefault(),I("client/dm/".concat(a),{},h).then((function(e){e.error||(E.id===a&&_({id:"@me"}),O(Object(b.a)(N.filter((function(e){return e.id!==a}))))),o&&g.push("/@me")}))}},r.a.createElement(d.a,{icon:v.p})))))},pt=function(e){var t=e.ChannelID,a=e.channels;return r.a.createElement(r.a.Fragment,null,r.a.createElement(vt,{id:"@me",key:0,friendChannel:!0,active:void 0===t}),r.a.createElement("div",{className:Ve.a.dmSeparator},r.a.createElement("p",null,"DIRECT MESSAGE: ")),r.a.createElement("div",{className:Ve.a.channelList},r.a.createElement(Le.Scrollbars,{autoHide:!0,style:{height:"100%"}},a?a.map((function(e,a){var n=e.id,c=e.name,o=e.logoUrl,l=e.status,s=e.code;return r.a.createElement(vt,{userCode:s,key:a,name:c,active:t===n,id:n,src:o,status:l})})):null)))},Et=a(6),_t=a.n(Et),ft=function(e){var t=e.channelId,a=e.type,c=e.name,o=e.categoryId,s=e.setSettings,i=Object(U.a)(),u=Object(l.a)(i,1)[0].Authorization,p=Object(n.useContext)($),E=p.activeChannel,f=p.setChannel,h=Object(n.useContext)(_).activeServer,g=Object(n.useContext)(tt),C=g.activeVoiceChannel,N=g.setVoiceChannel,O=Object(F.h)().ServerID,j=Object(n.useState)(!1),S=Object(l.a)(j,2),x=S[0],y=S[1],B=Object(n.useState)(),k=Object(l.a)(B,2),w=k[0],L=k[1],A=Object(n.useContext)(q),D=A.channelsList,T=A.setChannels,P=Object(n.useContext)(ce).voiceUserList,M=function(){I("channels/".concat(O,"/").concat(t),{},u).then((function(e){e.error||D.some((function(e,a){return e.categoryId===o&&(e.channelsList.some((function(a,n){return a.id===t&&(e.channelsList.splice(n,1),T(Object(b.a)(D)),y(!1),!0)})),!0)}))}))},R=function(){a?N({id:t,name:c,serverID:h.id}):f({id:t,name:c})},H=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"".concat(_t.a.channel," ").concat(E.id===t||C.id===t?_t.a.activeChannel:_t.a.nonactiveChannel)},r.a.createElement(m.b,{to:a?"#":"/".concat(O,"/").concat(t),className:"".concat(E.id===t||C.id===t?_t.a.activeChannel:_t.a.nonactiveChannel)},r.a.createElement("div",{onClick:R,style:{height:"30px",display:"flex",flexDirection:"row",alignItems:"center",textDecoration:"none"}},r.a.createElement(d.a,{color:"#999999",icon:a?v.b:v.f}),r.a.createElement("div",{className:_t.a.channelName},c))),h.isAdmin?r.a.createElement("div",{className:_t.a.channelOption,onClick:function(e){e.preventDefault(),s({id:t,type:0,name:c,categoryId:o})}},r.a.createElement(d.a,{icon:v.c})):null),r.a.createElement("div",{className:_t.a.userList},a&&P&&P[t]?P[t].map((function(e,t){return a=e.logoUrl,n=e.username,e.id,c=t,r.a.createElement("div",{key:c,className:_t.a.voiceUser},r.a.createElement(ye,{src:a,width:32}),r.a.createElement("div",{className:_t.a.voiceUsername},n));var a,n,c})):null))};return a?h.isAdmin?r.a.createElement(r.a.Fragment,null,x?r.a.createElement(de,{top:r.a.createElement("p",{style:{color:"#FFFFFF",fontWeight:"200"}},"Are you sure you want to delete ",r.a.createElement("span",{style:{fontWeight:700}},"'",c.length>30?"".concat(c.substr(0,30),"..."):c,"'")),bottom:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:M,className:_t.a.deleteButton},r.a.createElement("p",null,"Delete channel")),r.a.createElement("button",{className:_t.a.cancelButton,onClick:function(){return y(!1)}},r.a.createElement("p",null,"Cancel"))),outside:function(){return y(!1)}}):null,r.a.createElement("div",{className:"".concat(E.id===t||C.id===t?null:_t.a.nonactiveChannel)},r.a.createElement(le.a,{trigger:"contextmenu",placement:"bottom",offset:[5,5],arrow:!1,hideOnClick:!0,interactive:!0,onTrigger:function(e,t){L(e),e.show()},render:function(e,t){return r.a.createElement("div",{className:_t.a.contextMenu},r.a.createElement("button",{className:"".concat(_t.a.leave," ").concat(_t.a.contextButton),onClick:function(){w.hide(),y(!0)}},"Delete channel"))}},H()))):H():h.isAdmin?r.a.createElement(r.a.Fragment,null,x?r.a.createElement(de,{top:r.a.createElement("p",{style:{color:"#FFFFFF",fontWeight:"200"}},"Are you sure you want to delete ",r.a.createElement("span",{style:{fontWeight:700}},"'",c.length>30?"".concat(c.substr(0,30),"..."):c,"'")),bottom:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:M,className:_t.a.deleteButton},r.a.createElement("p",null,"Delete channel")),r.a.createElement("button",{className:_t.a.cancelButton,onClick:function(){return y(!1)}},r.a.createElement("p",null,"Cancel"))),outside:function(){return y(!1)}}):null,r.a.createElement("div",{className:"".concat(E.id===t||C.id===t?null:_t.a.nonactiveChannel)},r.a.createElement(le.a,{trigger:"contextmenu",placement:"bottom",offset:[0,5],arrow:!1,hideOnClick:!0,interactive:!0,onTrigger:function(e,t){L(e),e.show()},render:function(e,t){return r.a.createElement("div",{className:_t.a.contextMenu},r.a.createElement("button",{className:"".concat(_t.a.leave," ").concat(_t.a.contextButton),onClick:function(){w.hide(),y(!0)}},"Delete channel"))}},H()))):H()};var ht=function(e){var t=e.outside,a=e.categoryName,c=e.categoryId,o=Object(U.a)(),s=Object(l.a)(o,1)[0].Authorization,i=Object(n.useState)(0),u=Object(l.a)(i,2),m=u[0],p=u[1],E=Object(n.useState)(""),_=Object(l.a)(E,2),f=_[0],h=_[1],b=Object(n.useState)(""),g=Object(l.a)(b,2),C=g[0],N=g[1],O=Object(F.h)().ServerID,j=function(e){if(e.preventDefault(),!f)return N("Channel name required");w("server/".concat(O,"/").concat(c,"/channels"),{name:f,type:m},s).then((function(){t()}))};return r.a.createElement(de,{outside:t,bottom:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:j,className:pe.a.createButton},r.a.createElement("p",null,"Create channel")),r.a.createElement("button",{className:pe.a.cancelButton,onClick:t},r.a.createElement("p",null,"Cancel"))),top:r.a.createElement("div",{className:pe.a.content},r.a.createElement("form",{onSubmit:j},r.a.createElement("div",{className:pe.a.titleHandler},r.a.createElement("p",{className:pe.a.title},"CREATE ",m?"voice":"text"," CHANNEL"),r.a.createElement("div",{className:pe.a.categoryName},r.a.createElement("span",null,"in ",a))),r.a.createElement("div",{className:pe.a.form},r.a.createElement("p",{className:pe.a.subTitle},"CHANNEL TYPE"),r.a.createElement("div",{className:"".concat(pe.a.channelType," ").concat(m?null:pe.a.activeType),onClick:function(){return m?p(0):null}},r.a.createElement("label",{className:pe.a.checkbox},r.a.createElement("input",{type:"radio",name:"checkbox",checked:0===m,onChange:function(){return m?p(0):null}}),r.a.createElement("span",{className:pe.a.checkboxSpan})),r.a.createElement(d.a,{className:pe.a.channelTypeFa,icon:v.f}),r.a.createElement("p",null,"Text Channel")),r.a.createElement("div",{className:"".concat(pe.a.channelType," ").concat(m?pe.a.activeType:null),onClick:function(){return m?null:p(1)}},r.a.createElement("label",{className:pe.a.checkbox},r.a.createElement("input",{type:"radio",name:"checkbox",checked:m,onChange:function(){return m?null:p(1)}}),r.a.createElement("span",{className:pe.a.checkboxSpan})),r.a.createElement(d.a,{className:pe.a.channelTypeFa,icon:v.b}),r.a.createElement("p",null,"Voice Channel"))),r.a.createElement("div",{className:pe.a.form},r.a.createElement("p",{className:pe.a.subTitle},"CHANNEL NAME"),r.a.createElement("div",{className:pe.a.inputText},r.a.createElement("input",{value:f,onChange:function(e){return h(e.target.value)},maxLength:100,type:"text",className:"".concat(pe.a.channelName," ").concat(C?pe.a.borderError:null)}),C?r.a.createElement("p",{className:pe.a.error},C):null))))})},bt=function(e){var t=e.name,a=e.channels,c=e.id,o=e.setSettings,s=Object(U.a)(),i=Object(l.a)(s,1)[0].Authorization,m=Object(n.useState)(!0),p=Object(l.a)(m,2),E=p[0],f=p[1],h=Object(n.useContext)(_).activeServer,g=Object(n.useState)(!1),C=Object(l.a)(g,2),N=C[0],O=C[1],j=Object(n.useState)(!1),S=Object(l.a)(j,2),x=S[0],y=S[1],B=Object(n.useContext)(q),k=B.channelsList,w=B.setChannels,L=Object(n.useState)(),A=Object(l.a)(L,2),D=A[0],T=A[1],P=Object(F.h)().ServerID,M=function(){f(!E)};return h.isAdmin?r.a.createElement(r.a.Fragment,null,N?r.a.createElement(ht,{categoryId:c,categoryName:t,outside:function(){return O(!1)}}):null,x?r.a.createElement(de,{outside:function(){return y(!1)},top:r.a.createElement("p",{style:{color:"#FFFFFF"}},"Are you sure you want to delete ",r.a.createElement("span",{style:{fontWeight:700}},"'",t.length>30?"".concat(t.substr(0,30),"..."):t,"'")),bottom:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){I("server/".concat(P,"/").concat(c),{},i).then((function(e){var t=e.id;e.error||k.some((function(e,a){return e.categoryId===t&&(k.splice(a,1),w(Object(b.a)(k)),y(!1),!0)}))}))},className:_t.a.deleteButton},r.a.createElement("p",null,"Delete category")),r.a.createElement("button",{className:_t.a.cancelButton,onClick:function(){return y(!1)}},r.a.createElement("p",null,"Cancel")))}):null,r.a.createElement("div",{className:_t.a.category},r.a.createElement("div",null,r.a.createElement("div",{className:_t.a.name},r.a.createElement("div",null,r.a.createElement(le.a,{trigger:"contextmenu",placement:"bottom",offset:[15,5],arrow:!1,hideOnClick:!0,interactive:!0,onTrigger:function(e,t){T(e),e.show()},render:function(e,a){return r.a.createElement("div",{className:_t.a.contextMenu},r.a.createElement("button",{className:"".concat(_t.a.leave," ").concat(_t.a.contextButton),onClick:function(){D.hide(),y(!0)}},"Delete category"),r.a.createElement("button",{className:"".concat(_t.a.settings," ").concat(_t.a.contextButton),onClick:function(){D.hide(),o({id:c,name:t,type:1})}},"Category settings"))}},r.a.createElement("div",{className:_t.a.nameDiv,onClick:M},r.a.createElement(d.a,{icon:v.a,rotation:E?0:270,className:_t.a.arrow}),r.a.createElement("div",{className:_t.a.categoryName},r.a.createElement("span",null,t))))),r.a.createElement(u.a,{content:"Add channel",placement:"top",className:"serverTips",arrow:!0,animation:!1},r.a.createElement("div",{className:_t.a.addChannel,onClick:function(){return O(!0)}},r.a.createElement(d.a,{icon:v.m}))))),r.a.createElement("div",{className:E?null:_t.a.hidden,style:{marginLeft:15}},a&&a.length?a.map((function(e){return r.a.createElement(ft,{setSettings:o,categoryId:c,key:e.id,channelId:e.id,type:e.type,name:e.name})})):null))):r.a.createElement(r.a.Fragment,null,N?r.a.createElement(ht,{categoryId:c,categoryName:t,outside:function(){return O(!1)}}):null,r.a.createElement("div",{className:_t.a.category},r.a.createElement("div",{className:_t.a.name},r.a.createElement("div",{className:_t.a.nameDiv,onClick:M},r.a.createElement(d.a,{icon:v.a,rotation:E?0:270,className:_t.a.arrow}),r.a.createElement("div",{className:_t.a.categoryName},r.a.createElement("span",null,t)))),r.a.createElement("div",{className:E?null:_t.a.hidden,style:{marginLeft:15}},a&&a.length?a.map((function(e,t){return r.a.createElement(ft,{key:t,categoryId:c,channelId:e.id,type:e.type,name:e.name})})):null)))},gt=a(82),Ct=a.n(gt),Nt=a(17),Ot=a.n(Nt);var jt=function(e){var t=e.settings,a=e.exit,c=Object(n.useState)(t.name),o=Object(l.a)(c,2),s=o[0],i=o[1],u=Object(n.useState)(""),m=Object(l.a)(u,2),p=m[0],E=m[1],f=Object(n.useContext)($),h=f.activeChannel,g=f.setChannel,C=Object(n.useContext)(q),N=C.channelsList,O=C.setChannels,j=Object(U.a)(),S=Object(l.a)(j,1)[0].Authorization,x=Object(n.useContext)(_).activeServer;return r.a.createElement("div",{className:Ot.a.handler},r.a.createElement("div",{className:Ot.a.titleExit},r.a.createElement("p",{className:Ot.a.title},"OVERVIEW"),r.a.createElement("div",{className:Ot.a.exitButton,onClick:a},r.a.createElement(d.a,{icon:v.p}))),r.a.createElement("div",{className:Ot.a.overview},r.a.createElement("form",{onSubmit:function(e){return e.preventDefault(),s===t.name||(s?(p&&E(""),void L("channels/".concat(x.id,"/").concat(t.id),{name:s},S).then((function(e){e.error;N.some((function(e){return e.categoryId===t.categoryId&&(e.channelsList.some((function(e){return e.id===t.id&&(h.id===t.id&&(h.name=s,t.name=s,g(Object(Ce.a)({},h))),e.name=s,O(Object(b.a)(N)),!0)})),!0)}))}))):E("Name is required"))},action:"#"},r.a.createElement("div",{className:Ot.a.subTitle},"CHANNEL NAME:"),r.a.createElement("div",{className:Ot.a.inputHandler},r.a.createElement("input",{value:s,onChange:function(e){return i(e.target.value)},type:"text",className:Ot.a.input})),p?r.a.createElement("div",{style:{color:"#EB5757"}},p):null,r.a.createElement("div",{className:Ot.a.buttonHandler},r.a.createElement("button",{className:Ot.a.saveButton,type:"submit"},"SAVE")))))};var St=function(e){var t=e.exit,a=e.settings;return Object(n.useEffect)((function(){var e=function(e){27===e.keyCode&&t()};return window.addEventListener("keyup",e),function(){window.removeEventListener("keyup",e)}}),[t]),r.a.createElement(he,{NavBar:r.a.createElement("button",{className:Ct.a.navButton},"Overview"),content:r.a.createElement(jt,{exit:t,settings:a}),title:a.name})};var xt=function(e){var t=e.settings,a=e.exit,c=Object(n.useState)(t.name),o=Object(l.a)(c,2),s=o[0],i=o[1],u=Object(n.useState)(""),m=Object(l.a)(u,2),p=m[0],E=m[1],f=Object(U.a)(),h=Object(l.a)(f,1)[0].Authorization,b=Object(n.useContext)(_).activeServer;return r.a.createElement("div",{className:Ot.a.handler},r.a.createElement("div",{className:Ot.a.titleExit},r.a.createElement("p",{className:Ot.a.title},"OVERVIEW"),r.a.createElement("div",{className:Ot.a.exitButton,onClick:a},r.a.createElement(d.a,{icon:v.p}))),r.a.createElement("div",{className:Ot.a.overview},r.a.createElement("form",{onSubmit:function(e){return e.preventDefault(),s===t.name||(s?(p&&E(""),void L("server/".concat(b.id,"/").concat(t.id),{name:s},h).then()):E("Name is required"))},action:"#"},r.a.createElement("div",{className:Ot.a.subTitle},"CATEGORY NAME:"),r.a.createElement("div",{className:"".concat(Ot.a.inputHandler," ").concat(p?Ot.a.errorBorder:null)},r.a.createElement("input",{value:s,onChange:function(e){return i(e.target.value)},type:"text",className:Ot.a.input})),p?r.a.createElement("div",{style:{color:"#EB5757"}},p):null,r.a.createElement("div",{className:Ot.a.buttonHandler},r.a.createElement("button",{className:Ot.a.saveButton,type:"submit"},"SAVE")))))};var yt=function(e){var t=e.exit,a=e.settings;return Object(n.useEffect)((function(){var e=function(e){27===e.keyCode&&t()};return window.addEventListener("keyup",e),function(){window.removeEventListener("keyup",e)}}),[t]),r.a.createElement(he,{NavBar:r.a.createElement("button",{className:Ct.a.navButton},"Overview"),content:r.a.createElement(xt,{exit:t,settings:a}),title:a.name})},Bt=function(e){var t=e.channels,a=Object(n.useState)({}),c=Object(l.a)(a,2),o=c[0],s=c[1];return r.a.createElement(r.a.Fragment,null,o.id?o.type?r.a.createElement(yt,{exit:function(){return s({})},settings:o}):r.a.createElement(St,{exit:function(){return s({})},settings:o}):null,r.a.createElement("div",{className:Ve.a.channelList},r.a.createElement(Le.Scrollbars,{autoHide:!0,style:{height:"100%"}},t?t.map((function(e,t){var a=e.channelsList,n=e.categoryName,c=e.categoryId;return r.a.createElement(bt,{setSettings:s,key:t,id:c,name:n,channels:a})})):null)))},kt=function(e){var t=e.type,a=Object(U.a)(),c=Object(l.a)(a,1)[0].Authorization,o=Object(n.useContext)(_).activeServer,s=Object(n.useContext)(q).channelsList,i=Object(n.useContext)(j),u=i.serverList,m=i.setServers,d=Object(F.h)(),v=d.ServerID,p=d.FriendID,E=Object(F.g)();return r.a.createElement("div",{className:"".concat(Ve.a.handler," ").concat(B.TopBar?Ve.a.handlerBR:null)},r.a.createElement("div",{className:Ve.a.top},r.a.createElement(He,{type:t,deleteServer:function(){I("server/".concat(v),{},c).then((function(e){e.error||(u.some((function(e,t){return e.id===v&&(u.splice(t,1),m(u),!0)})),E.push("/@me"))}))},leaveServer:function(){I("server/".concat(v,"/leave/"),{},c).then((function(e){e.error||(u.some((function(e,t){return e.id===v&&(u.splice(t,1),m(u),!0)})),E.push("/@me"))}))},name:t?v===o.id?o.name:"loading":"DIRECT MESSAGES"})),t?r.a.createElement(Bt,{channels:s||[]}):r.a.createElement(pt,{ChannelID:p,channels:s||[]}),r.a.createElement(it,null))},wt=a(61),It=a.n(wt),Lt=function(e){var t=e.id,a=e.fa;return r.a.createElement("div",{id:t,className:"".concat(It.a.menuButton," ").concat(It.a[t])},r.a.createElement(d.a,{icon:a}))},Ut=a(133),Ft=function(){return r.a.createElement("div",{className:"".concat(It.a.topBar," selectRemover")},r.a.createElement("p",{className:It.a.appName},"COPYSCORD"),r.a.createElement("div",{className:It.a.controlMenu},r.a.createElement(Lt,{id:"reduce",fa:v.k,hoverColor:"#343434"}),r.a.createElement(Lt,{id:"enlarge",fa:Ut.a,hoverColor:"#343434"}),r.a.createElement(Lt,{id:"exit",fa:v.p,hoverColor:"#c0392b"})))},At=a(74),Dt=a.n(At),Tt=a(70),Pt=a.n(Tt),Mt=[v.b,v.f,v.q],Rt=function(e){var t=e.type,a=e.name,n=e.children,c=e.userCode;return r.a.createElement("div",{className:Pt.a.handler},r.a.createElement("div",{className:Pt.a.channelInfo},r.a.createElement(d.a,{className:Pt.a.channelLogo,icon:Mt[t],color:"#999999"}),r.a.createElement("div",{className:Pt.a.channelName},a?a.length>30?"".concat(a.substr(0,30),"..."):a:null,c?r.a.createElement("span",{className:Pt.a.userCode},"#",c.toString().padStart(4,"0")):null),n||null))},Ht=a(12),zt=a.n(Ht),Vt=function(e){var t=e.removeFriend,a=e.sent,c=e.src,o=e.status,s=e.username,i=e.id,u=e.request,p=e.acceptFriend,E=e.removeRequest,_=e.userCode,f=Object(n.useState)(),h=Object(l.a)(f,2),b=h[0],g=h[1],C=Object(n.useState)(!1),N=Object(l.a)(C,2),O=N[0],j=N[1],S=function(){b.hide(),j(!0)};return u?r.a.createElement("div",{className:zt.a.user},r.a.createElement("div",{className:zt.a.separator},r.a.createElement("div",{className:zt.a.userLogo},r.a.createElement(ye,{src:c,status:o,bgcolor:"#4A4A4A"})),r.a.createElement("p",{className:zt.a.username},s,r.a.createElement("span",{className:zt.a.userCode},"#",_.toString().padStart(4,"0")))),r.a.createElement("div",{className:zt.a.separator},a?r.a.createElement("div",{className:zt.a.action,onClick:function(){return p(i)}},r.a.createElement(d.a,{icon:v.m})):null,r.a.createElement("div",{className:zt.a.action,onClick:function(){return E(i,a)}},r.a.createElement(d.a,{icon:v.k})))):r.a.createElement(r.a.Fragment,null,O?r.a.createElement(de,{outside:function(){return j(!1)},top:r.a.createElement("p",{style:{color:"#FFFFFF"}},"Are you sure you want to delete ",r.a.createElement("span",{style:{fontWeight:700}},"'",s.length>30?"".concat(s.substr(0,30),"..."):s,"' "),"from your friends"),bottom:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return t(i)},className:zt.a.deleteButton},r.a.createElement("p",null,"Remove")),r.a.createElement("button",{className:zt.a.cancelButton,onClick:function(){return j(!1)}},r.a.createElement("p",null,"Cancel")))}):null,r.a.createElement("div",{className:zt.a.user},r.a.createElement("div",{className:zt.a.separator},r.a.createElement("div",{className:zt.a.userLogo},r.a.createElement(ye,{src:c,status:o,bgcolor:"#4A4A4A"})),r.a.createElement("div",{className:zt.a.username},s,r.a.createElement("span",{className:zt.a.userCode},"#",_.toString().padStart(4,"0")))),r.a.createElement("div",{className:zt.a.separator},r.a.createElement(m.b,{to:"/@me/".concat(i),style:{textDecoration:"none"}},r.a.createElement("div",{className:zt.a.action},r.a.createElement(d.a,{icon:v.d}))),r.a.createElement(le.a,{placement:"bottom",trigger:"click",interactive:!0,onTrigger:function(e,t){g(e),e.show()},render:function(e,t){return r.a.createElement("div",{className:zt.a.contextMenu},r.a.createElement("button",{onClick:S,className:"".concat(zt.a.delete," ").concat(zt.a.contextButton)},"Remove friend"))}},r.a.createElement("div",{className:zt.a.action},r.a.createElement(d.a,{icon:v.e}))))))},qt=a(59),Wt=a.n(qt);var Jt=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),s=Object(l.a)(o,2),i=s[0],u=s[1],m=Object(n.useState)(""),d=Object(l.a)(m,2),v=d[0],p=d[1],E=Object(U.a)(),_=Object(l.a)(E,1)[0].Authorization,f=function(e){if(!e)return u("No username"),{error:i};var t=(e=e.split("#"))[e.length-1];if(1===e.length)return u("No user code"),{error:i};if(isNaN(t)||parseInt(t)>9999||parseInt(t)<0||!t)return u("Invalid user tag"),{error:i};e.pop();var a=e.join("#");return i&&u(""),v&&p(""),{userCode:t,username:a}};return r.a.createElement(r.a.Fragment,null,i?r.a.createElement("div",{className:"".concat(Wt.a.alert)},r.a.createElement("span",{className:Wt.a.closebtn,onClick:function(){return u("")}},"\xd7"),i):null,v?r.a.createElement("div",{className:"".concat(Wt.a.success)},r.a.createElement("span",{className:Wt.a.closebtn,onClick:function(){return p("")}},"\xd7"),v):null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=f(a),n=t.userCode,r=t.username;t.error||w("friends",{username:r,userCode:n},_).then((function(e){var t=e.error;if(t)return u("".concat(t[0]?t[0].toUpperCase():"error").concat(t[0]?t.slice(1,t.length):""));p("Successfully added ".concat(r,"#").concat(n.toString().padStart(4,"0")," to friend"))}))}},r.a.createElement("div",{className:Wt.a.addFriend},r.a.createElement("input",{value:a,onChange:function(e){return c(e.target.value)},placeholder:"Ex: foo#2323",type:"text",className:Wt.a.input}),r.a.createElement("button",{className:Wt.a.button,type:"submit"},"Add to friend"))))},Gt=r.a.createContext([]),Yt=function(e){var t=e.children,a=Object(n.useState)([]),c=Object(l.a)(a,2),o=c[0],s=c[1];return r.a.createElement(Gt.Provider,{value:{friendsList:o,setFriendsList:function(e){s(e)}}},t)},Zt=(Gt.Consumer,Gt),Xt=["ONLINE","ALL","REQUEST","ADD FRIEND"],Kt=function(e){var t=e.type,a=Object(U.a)(),c=Object(l.a)(a,1)[0].Authorization,o=Object(n.useState)(2),s=Object(l.a)(o,2),i=s[0],u=s[1],m=Object(n.useContext)(Zt),d=m.friendsList,v=m.setFriendsList,p=function(e){w("friends",{userId:e},c).then((function(t){t.error||(d.received.some((function(t,a){return t.id===e&&(d.received.splice(a,1),!0)})),v({received:d.received,sent:d.sent}))}))},E=function(e,t){I("friends/request/".concat(e),{},c).then((function(a){a.error||(t?(d.received.some((function(t,a){return t.id===e&&(d.received.splice(a,1),!0)})),v({received:d.received,sent:d.sent})):(d.sent.some((function(t,a){return t.id===e&&(d.sent.splice(a,1),!0)})),v({received:d.received,sent:d.sent})))}))},_=function(e){I("friends",{userId:e},c).then((function(t){t.error||d.some((function(t,a){return t.id===e&&(d.splice(a,1),v(Object(b.a)(d)),!0)}))}))};return Object(n.useEffect)((function(){0===t||1===t?1!==i&&0!==i&&k("friends",{},c).then((function(e){u(t),v(e)})).catch((function(){u(t)})):2===t?2!==i&&k("friends/request",{},c).then((function(e){u(t),v(e)})):3===t&&3!==i&&u(t)}),[t,i,c,v]),r.a.createElement(Le.Scrollbars,{style:{height:"100%"}},r.a.createElement("div",{className:zt.a.list},r.a.createElement("div",{className:zt.a.title},r.a.createElement("p",null,Xt[t])),2===t?r.a.createElement("p",{className:zt.a.subTitle},"Sent: "):null,3===t?r.a.createElement(Jt,null):d&&d[0]&&d[0].id?2!==t?d.map((function(e){var a=e.id,n=e.logoUrl,c=e.status,o=e.name,l=e.code;return t||0===c?!!t&&r.a.createElement(Vt,{removeFriend:_,userCode:l,key:a,id:a,src:n,username:o,status:c}):r.a.createElement(Vt,{removeFriend:_,userCode:l,key:a,id:a,src:n,username:o,status:c})})):null:d.sent&&d.sent[0]&&d.sent[0].id?d.sent.map((function(e,t){var a=e.id,n=e.logoUrl,c=e.name,o=e.code;return r.a.createElement(Vt,{acceptFriend:p,userCode:o,removeRequest:E,request:!0,username:c,key:t,id:a,src:n})})):null,2===t?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:zt.a.subTitle},"Received: "),d.received&&d.received[0]&&d.received[0].id?d.received.map((function(e,t){var a=e.id,n=e.logoUrl,c=e.name,o=e.code;return r.a.createElement(Vt,{acceptFriend:p,userCode:o,removeRequest:E,request:!0,sent:!0,username:c,key:t,id:a,src:n})})):null):null))},Qt=r.a.createContext({type:"online"}),$t=function(e){var t=e.children,a=Object(n.useState)({type:"online"}),c=Object(l.a)(a,2),o=c[0],s=c[1];return r.a.createElement(Qt.Provider,{value:{activeFPanel:o,setFriendsPanel:function(e){s(e)}}},t)},ea=(Qt.Consumer,Qt),ta=a(50),aa=a.n(ta),na=function(e){var t=e.type,a=e.className,c=e.text,o=e.callback,l=Object(n.useContext)(ea),s=l.activeFPanel,i=l.setFriendsPanel;return r.a.createElement("div",{className:aa.a.switcher},r.a.createElement("p",{className:"".concat(a," ").concat(s.type===t?aa.a.active:null),onClick:function(){o(t),i({type:t})}},c))},ra=function(e){var t=e.callback,a=function(e){t(e)};return r.a.createElement("div",{className:aa.a.switch},r.a.createElement($t,{activeChannel:{type:"online"}},r.a.createElement(na,{callback:function(){return a(0)},type:"online",text:"Online",className:aa.a.switcherText,active:!0}),r.a.createElement(na,{callback:function(){return a(1)},type:"all",text:"All",className:aa.a.switcherText}),r.a.createElement(na,{callback:function(){return a(2)},type:"request",text:"Request",className:aa.a.switcherText}),r.a.createElement(na,{callback:function(){return a(3)},type:"add",text:"Add friend",className:"".concat(aa.a.switcherText," ").concat(aa.a.addFriendButton)})))},ca=function(){var e=Object(n.useState)(0),t=Object(l.a)(e,2),a=t[0],c=t[1];return r.a.createElement("div",{className:zt.a.handler},r.a.createElement("div",{className:zt.a.top},r.a.createElement(Rt,{type:2,name:"Friends"},r.a.createElement("div",{className:zt.a.verticalSeparator}),r.a.createElement(ra,{callback:function(e){c(e)}}))),r.a.createElement(Kt,{type:a}))},oa=a(32),la=a.n(oa),sa=a(134),ia=a.n(sa),ua=function(e){var t=e.type,a=e.channel,c=e.content,o=e.setEditMessage,s=Object(U.a)(),i=Object(l.a)(s,1)[0].Authorization,u=Object(n.useContext)(_),m=u.activeServer,d=u.setServer,v=Object(n.useContext)(ae),p=v.messages,E=v.setMessages,f=Object(n.useContext)(X).currentUser,h=Object(F.h)(),g=h.ChannelID,C=h.ServerID,N=h.FriendID,O=Object(F.g)(),j=Object(n.useState)(""),S=Object(l.a)(j,2),x=S[0],y=S[1],B=Object(n.useState)(""),k=Object(l.a)(B,2),I=k[0],A=k[1],D=Object(n.useContext)(q),T=D.channelsList,P=D.setChannels;Object(n.useEffect)((function(){(!I&&c.id||I!==c.id)&&(A(c.id),y(c.content))}),[A,c,I]);return r.a.createElement("div",{className:la.a.chatInput},r.a.createElement("div",{className:la.a.border},r.a.createElement("div",{style:{width:28,height:28,backgroundColor:"#C4C4C4",borderRadius:"50%"}})),r.a.createElement(Le.Scrollbars,{autoHeight:!0,style:{width:"calc(100% - 50px)"}},r.a.createElement("div",{className:la.a.boxContainer},r.a.createElement(ia.a,{placeholder:"Send a message to "+(t?"#":"@")+(a?a.length>30?"".concat(a.substring(0,30),"..."):a:""),onKeyPress:function(e){"Enter"===e.key&&(""!==e.target.value&&(t?I?L("channels/".concat(C,"/").concat(g,"/").concat(c.id),{content:x},i).then((function(e){var t=e.id;e.error||(p.some((function(e){return e.id===t&&(e.content=x,!0)})),E(Object(b.a)(p))),o({}),y(""),A("")})):w("channels/".concat(C,"/").concat(g,"/messages"),{content:e.target.value},i).then((function(e){var t=e.id,a=e.content,n=e.date;p.error?E([{id:t,content:a,date:n,username:f.username,userLogo:f.logoUrl,authorId:f.id}]):E([].concat(Object(b.a)(p),[{id:t,content:a,date:n,username:f.username,userLogo:f.logoUrl,authorId:f.id}]))})):I?L("client/dm/".concat(N,"/").concat(c.id),{content:x},i).then((function(e){var t=e.id;e.error||(p.some((function(e){return e.id===t&&(e.content=x,!0)})),E(Object(b.a)(p))),T.some((function(e){return e.id===N&&(e.lastMessage=Date.now(),!0)})),T.sort((function(e,t){return t.lastMessage-e.lastMessage})),o({}),y(""),A(""),d(Object(Ce.a)({},m))})):w("client/dm/".concat(N),{content:e.target.value},i).then((function(e){var t=e.id,a=e.content,n=e.date;if(e.error&&O.push("/@me"),p.error)T.some((function(e){return e.id===N}))||d({});else{T.some((function(e){return e.id===N}))||d({});var r={id:t,content:a,date:n,username:f.username,userLogo:f.logoUrl,authorId:f.id};E(p[0]?[].concat(Object(b.a)(p),[r]):[r]),T.some((function(e){return e.id===N&&(e.lastMessage=Date.now(),!0)})),T.sort((function(e,t){return t.lastMessage-e.lastMessage})),P(Object(b.a)(T))}}))),y(""),e.preventDefault())},spellCheck:"false",onChange:function(e){return y(e.target.value)},value:x,maxLength:2e3,className:la.a.textbox})),I?r.a.createElement("p",{className:la.a.cancel,onClick:function(){A(""),y(""),o({})}},"Cancel"):null),r.a.createElement("div",{className:la.a.border}))},ma=a(33),da=a.n(ma),va=a(39),pa=a.n(va);var Ea=function(e){var t=e.id,a=e.logo,c=e.bot,o=e.userCode,s=e.name,i=e.left,u=e.showProfile,m=Object(n.useContext)(X).currentUser,d=Object(n.useState)(""),v=Object(l.a)(d,2),p=v[0],E=v[1],_=Object(F.g)(),f=Object(U.a)(),h=Object(l.a)(f,1)[0].Authorization,b=Object(n.useState)(""),g=Object(l.a)(b,2),C=g[0],N=g[1];return Object(n.useEffect)((function(){!p&&C&&N("")}),[p,C]),r.a.createElement("div",{className:"".concat(pa.a.profile," ").concat(i?pa.a.slideLeft:pa.a.slideRight)},r.a.createElement("div",{className:pa.a.profileTop},r.a.createElement("div",{className:pa.a.profileLogo,onClick:function(){return u(t)}},r.a.createElement(ye,{src:a,width:85})),r.a.createElement("div",{className:pa.a.profileUsername},r.a.createElement("p",null,s.length>20?"".concat(s.substr(0,20),"..."):s),r.a.createElement("p",{className:pa.a.profileUsernameID},"#",o?o.toString().padStart(4,"0"):"#0000"))),r.a.createElement("div",{className:pa.a.profileBot},c,m.id!==t?r.a.createElement("div",{className:pa.a.dmHandler},r.a.createElement("div",{className:"".concat(pa.a.dmInputHandler," ").concat(C?pa.a.errorBorder:null)},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),w("client/dm/".concat(t),{content:p},h).then((function(e){var a=e.error;if(a)return N("user not found"===a?"User can only receive message from friends":"".concat(a[0].toUpperCase()).concat(a.slice(1,a.length)));C&&N(""),_.push("/@me/".concat(t))}))}},r.a.createElement("input",{value:p,onChange:function(e){return E(e.target.value)},placeholder:"Message @".concat(s.length>30?"".concat(s.substr(0,20),"..."):s),className:pa.a.dmInput}))),r.a.createElement("div",{style:{color:"#EB5757",fontSize:"13px"}},C)):null))},_a=a(22),fa=a.n(_a),ha=a(51),ba=a.n(ha);var ga=function(e,t){return r.a.createElement("div",{className:ba.a.handler},r.a.createElement(Le.Scrollbars,{autoHide:!0,autoHeight:!0},e&&e[0]?e.map((function(e,a){return r.a.createElement("div",{key:a,className:ba.a.listUser,onClick:function(){return t(e.id)}},r.a.createElement(ye,{status:e.status,src:e.logoUrl,bgcolor:"#434343",width:35}),r.a.createElement("div",{className:ba.a.name},e.username.length>30?"".concat(e.username.substr(0,30),"..."):e.username),r.a.createElement("div",{className:ba.a.userCode},"#",e.userCode.toString().padStart(4,"0")))})):r.a.createElement("div",{style:{color:"#FFFFFF"}},"You have no mutual friends")))};var Ca=function(e,t){return r.a.createElement("div",{className:ba.a.handler},r.a.createElement(Le.Scrollbars,{autoHide:!0,autoHeight:!0},e&&e[0]?e.map((function(e,a){return r.a.createElement("div",{key:a,className:ba.a.listUser,onClick:function(){return t(e.id)}},"default"===e.logoUrl?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:ba.a.serverLogo},e.name[0].toUpperCase())):r.a.createElement(ye,{width:35,src:e.logoUrl}),r.a.createElement("div",{className:ba.a.name},e.name.length>45?"".concat(e.name.substr(0,45),"..."):e.name))})):r.a.createElement("div",{style:{color:"#FFFFFF"}},"You have no mutual servers")))};var Na=function(e){var t=e.outside,a=e.id,c=e.username,o=e.logoUrl,s=e.userCode,i=Object(n.useState)(0),u=Object(l.a)(i,2),m=u[0],d=u[1],v=Object(n.useState)(!1),p=Object(l.a)(v,2),E=p[0],_=p[1],f=Object(n.useContext)(X).currentUser,h=Object(U.a)(),b=Object(l.a)(h,1)[0].Authorization,g=Object(n.useState)(""),C=Object(l.a)(g,2),N=C[0],O=C[1],j=Object(n.useState)({id:a,username:c,logoUrl:o,userCode:s,commonServer:[],commonFriends:[],friendRequested:!1}),S=Object(l.a)(j,2),x=S[0],y=S[1],B=Object(F.g)();return Object(n.useEffect)((function(){if(f.id===x.id&&N!==x.id)return O(f.id),y({id:f.id,username:f.username,userCode:f.userCode,logoUrl:f.logoUrl,friendRequested:!1,commonServer:[],commonFriends:[]});N!==x.id&&k("user/".concat(x.id),{},b).then((function(e){e.error?k("friends/request",{},b).then((function(e){e.sent.some((function(e){return e.id===x.id}))&&_(!0),O(x.id)})):(e.friendRequested&&_(!0),O(e.id),y(e))}))}),[b,x,N,f]),r.a.createElement("div",{className:fa.a.popup,onClick:function(e){e.preventDefault(),e.currentTarget===e.target&&t()}},r.a.createElement("div",{className:fa.a.handler},r.a.createElement("div",{className:fa.a.top},r.a.createElement("div",{className:fa.a.topContent},r.a.createElement("div",{className:fa.a.space},r.a.createElement(ye,{src:x.logoUrl,width:100}),r.a.createElement("div",{className:fa.a.userNameCode},r.a.createElement("div",{className:fa.a.username},x.username?x.username.length>30?"".concat(x.username.substr(0,30),"..."):x.username:null),r.a.createElement("div",{className:fa.a.userCode},"#",x.userCode?x.userCode.toString().padStart(4,"0"):"0000"))),r.a.createElement("div",{className:fa.a.space},f.id===x.id?null:E?r.a.createElement("button",{className:fa.a.addedFriend,disabled:!0},"Friendship requested"):r.a.createElement("button",{className:fa.a.addFriend,onClick:x.areFriends?function(){t(),B.push("/@me/".concat(a))}:function(){if(_(!0),!E)return w("friends",{userId:a},b)}},x.areFriends?"Send a message":"Add to friend")))),f.id!==x.id?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:fa.a.navBar},r.a.createElement("div",{className:fa.a.navBarContent},r.a.createElement("div",{className:"".concat(fa.a.navButton," ").concat(0===m?fa.a.navActive:null),onClick:function(){return 0!==m?d(0):null}},"Mutual Server"),r.a.createElement("div",{className:"".concat(fa.a.navButton," ").concat(1===m?fa.a.navActive:null),onClick:function(){return 1!==m?d(1):null}},"Mutual Friends"))),r.a.createElement("div",{className:fa.a.bot},r.a.createElement("div",{className:fa.a.botContent},[Ca(x.commonServers,(function(e){t(),B.push("/".concat(e))})),ga(x.commonFriends,(function(e){x.id=e,y(Object(Ce.a)({},x)),d(0)}))][m]))):r.a.createElement("div",{className:fa.a.bot,style:{height:50}})))},Oa=function(e){var t=e.messageID,a=e.logo,c=e.author,o=e.authorId,s=e.date,i=e.content,u=e.setEdit,m=e.deleteMsg,d=e.userCode,v=Object(n.useState)(!1),p=Object(l.a)(v,2),E=p[0],f=p[1],h=Object(n.useState)(),b=Object(l.a)(h,2),g=b[0],C=b[1],N=Object(n.useState)(),O=Object(l.a)(N,2),j=O[0],S=O[1],x=Object(n.useContext)(X).currentUser,y=Object(n.useContext)(_).activeServer,B=Object(n.useState)(""),k=Object(l.a)(B,2),w=k[0],I=k[1],L=Object(n.useContext)(G).usersList,U=function(){g.hide(),u({id:t,content:i})},F=function(){f(!1)},A=function(){g.hide(),f(!0)};return r.a.createElement(r.a.Fragment,null,w?r.a.createElement(Na,{username:c,logoUrl:a,userCode:d,id:w,outside:function(){return I(!1)}}):null,r.a.createElement("div",null,E?r.a.createElement(de,{top:r.a.createElement("p",{style:{color:"#FFFFFF",fontSize:"15px",fontWeight:600}},"Delete message ?"),bottom:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:da.a.leaveButton,onClick:function(){m(t),f(!1)}},r.a.createElement("p",null,"Delete")),r.a.createElement("button",{className:da.a.cancelButton,onClick:F},r.a.createElement("p",null,"Cancel"))),outside:F}):null,r.a.createElement(le.a,{trigger:"contextmenu",placement:"auto",arrow:!1,interactive:!0,hideOnClick:!0,onTrigger:function(e,t){C(e),e.setProps({getReferenceClientRect:function(){return{width:0,height:0,top:t.clientY,bottom:t.clientY,left:t.clientX,right:t.clientX}}}),e.show()},render:function(e,t){return x.id===o||y.isAdmin?r.a.createElement("div",{className:da.a.contextMenu},x.id!==o?null:r.a.createElement("button",{className:"".concat(da.a.edit," ").concat(da.a.contextButton),onClick:U},"Edit message"),r.a.createElement("button",{className:"".concat(da.a.delete," ").concat(da.a.contextButton),onClick:A},"Delete message")):r.a.createElement(r.a.Fragment,null)}},r.a.createElement("div",{className:da.a.message},r.a.createElement(le.a,{appendTo:function(){return document.getElementById("root")},interactive:!0,onTrigger:function(e){S(e)},render:function(){if("@me"!==y.id){var e,t=L?L.find((function(e){return e.id===o})):{role:0};return e=t?t.role:"none",r.a.createElement(Ea,{showProfile:function(e){j.hide(),I(e)},id:o,userCode:d,name:c,logo:a,bot:r.a.createElement("p",{className:da.a.profileRank},"Rank: ","none"===e?"No more member":0===e?"User":1===e?"Admin":"Owner")})}return r.a.createElement(Ea,{showProfile:function(e){j.hide(),I(e)},id:o,userCode:d,name:c,logo:a})},trigger:"click",placement:"right"},r.a.createElement("div",{className:da.a.logo},r.a.createElement(ye,{width:40,src:a}))),r.a.createElement("div",{className:da.a.content},r.a.createElement("div",null,r.a.createElement("div",{className:da.a.author},c.length>30?"".concat(c.substr(0,30),"..."):c),r.a.createElement("p",{className:da.a.date},s)),r.a.createElement("div",{className:da.a.messageContent},i))))))},ja=function(e){var t=e.setEditMessage,a=Object(F.h)(),c=a.ChannelID,o=a.ServerID,s=a.FriendID,i=Object(n.useState)(""),u=Object(l.a)(i,2),m=u[0],d=u[1],v=Object(n.useContext)($).activeChannel,p=Object(n.useContext)(ae),E=p.messages,_=p.setMessages,f=Object(U.a)(),h=Object(l.a)(f,1)[0].Authorization,g=Object(F.g)(),C=Object(n.useState)(!1),N=Object(l.a)(C,2),O=N[0],j=N[1],S=Object(n.useState)(),x=Object(l.a)(S,2),y=x[0],B=x[1],w=Object(n.useState)(),L=Object(l.a)(w,2),A=L[0],D=L[1],T=Object(n.useState)(!1),P=Object(l.a)(T,2),M=P[0],R=P[1],H=function(e){var t=s?"client/dm/".concat(s,"/").concat(e):"channels/".concat(o,"/").concat(c,"/").concat(e);return I(t,{},h).then((function(){E.some((function(t,a){return t.id===e&&(E.splice(a,1),_(Object(b.a)(E)),!0)}))})),!0};Object(n.useEffect)((function(){v&&v.id!==m&&c?(d(v.id),k("channels/".concat(o,"/").concat(c,"/messages"),{limit:50},h).then((function(e){"error"!==e[0]&&_(e.reverse())})).catch((function(){g.push("/@me")}))):s&&s!==m&&(d(s),k("client/dm/".concat(s),{limit:50},h).then((function(e){"error"!==e[0]&&_(e.reverse())})).catch((function(){g.push("/@me")})))}),[v,c,m,s,o,h,_,g]);return r.a.createElement("div",{className:la.a.MainChat},r.a.createElement(Le.Scrollbars,{autoHide:!0,style:{height:"100%",display:"flex"},ref:function(e){e&&!A&&(e.scrollToBottom(),B(e),R(!0))},onUpdate:function(e){0===e.top&&E.length>=50&&!O&&M&&(s?(y&&y.scrollTop(e.scrollHeight-A),D(e.scrollHeight),E.length>=50&&!O&&k("client/dm/".concat(s),{limit:50,from:E[0].id},h).then((function(e){e.length?_(e.reverse().concat(E)):j(!0)})).catch((function(){g.push("/@me")}))):(y&&y.scrollTop(e.scrollHeight-A),D(e.scrollHeight),k("channels/".concat(o,"/").concat(c,"/messages"),{limit:50,from:E[0].id},h).then((function(e){"error"!==e[0]&&(e.length?_(e.reverse().concat(E)):j(!0))})).catch((function(){g.push("/@me")}))))}},r.a.createElement("div",{style:{flex:"1",display:"flex",flexDirection:"column"}},E[0]?E.map((function(e,a){var n=e.date,c=e.username,o=e.id,l=e.content,s=e.userLogo,i=e.authorId,u=e.userCode,m=new Date(n).toLocaleDateString("en-EN",{day:"numeric",month:"numeric",year:"numeric",hour:"numeric",hour12:!1,minute:"numeric",second:"numeric"});return r.a.createElement(Oa,{messageID:o,setEdit:t,deleteMsg:H,content:l,key:a,authorId:i,author:c,date:m,logo:s,userCode:u})})):null)))},Sa=a(23),xa=a.n(Sa),ya=function(e){var t=e.logo,a=e.name,c=e.userCode,o=e.rank,s=e.userId,i=e.status,u=Object(U.a)(),m=Object(l.a)(u,1)[0].Authorization,d=Object(n.useState)(),v=Object(l.a)(d,2),p=v[0],E=v[1],f=Object(n.useState)(),h=Object(l.a)(f,2),g=h[0],C=h[1],N=Object(n.useState)(),O=Object(l.a)(N,2),j=O[0],S=O[1],x=Object(n.useContext)(_).activeServer,y=Object(n.useState)(!1),B=Object(l.a)(y,2),k=B[0],I=B[1],A=Object(n.useState)(!1),D=Object(l.a)(A,2),T=D[0],P=D[1],M=Object(F.h)().ServerID,R=Object(n.useContext)(G),H=R.usersList,z=R.setUsersList,V=function(){I(!0)},q=function(){I(!1)};return x.isAdmin?r.a.createElement("div",null,j?r.a.createElement(Na,{username:a,logoUrl:t,userCode:c,id:j,outside:function(){return S(!1)}}):null,T?r.a.createElement(de,{outside:function(){return P(!1)},top:r.a.createElement("p",{style:{color:"#FFFFFF",fontSize:"15px",fontWeight:400}},"Are you sure to ",r.a.createElement("span",{style:{color:"#EB5757"}},"BAN "),a.length>30?"".concat(a.substr(0,30),"..."):a),bottom:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:xa.a.leaveButton,onClick:function(){P(!1),w("server/".concat(x.id,"/bans/").concat(s),{},m).then((function(e){e.error||H.some((function(e,t){return e.id===s&&(H.splice(t,1),z(Object(b.a)(H)),!0)}))}))}},r.a.createElement("p",null,"BAN")),r.a.createElement("button",{className:xa.a.cancelButton,onClick:function(){return P(!1)}},r.a.createElement("p",null,"Cancel")))}):null,r.a.createElement(le.a,{trigger:"contextmenu",placement:"bottom",offset:[15,5],arrow:!1,hideOnClick:!0,interactive:!0,onTrigger:function(e,t){E(e),e.setProps({getReferenceClientRect:function(){return{width:0,height:0,top:t.clientY,bottom:t.clientY,left:t.clientX,right:t.clientX}}}),e.show()},render:function(e,t){return r.a.createElement("div",{className:xa.a.contextMenu},r.a.createElement("button",{className:"".concat(2===o?null:xa.a.normalContext," ").concat(xa.a.contextButton),onClick:function(){2!==o&&(!function(e){L("server/".concat(M,"/members/").concat(s),{role:e},m).then((function(t){t.error||H.some((function(t){return t.id===s&&(t.role=e,z(Object(b.a)(H)),!0)}))}))}(o?0:1),p.hide())},disabled:2===o}," Set ",o?"user":"admin"),r.a.createElement("button",{className:"".concat(2!==o?xa.a.banButton:null," ").concat(xa.a.contextButton),onClick:function(){2!==o&&(p.hide(),P(!0))}},"Ban"))}},r.a.createElement(le.a,{appendTo:function(){return document.getElementById("root")},interactive:!0,onTrigger:function(e){return C(e)},render:function(){return r.a.createElement(Ea,{showProfile:function(e){g.hide(),S(e)},id:s,left:!0,userCode:c,name:a,logo:t,bot:r.a.createElement("p",{className:xa.a.profileRank},"Rank: ",0===o?"User":1===o?"Admin":"Owner")})},onHide:q,trigger:"click",placement:"left"},r.a.createElement("div",{onClick:V,className:"".concat(xa.a.member," ").concat(k?xa.a.active:null)},r.a.createElement(ye,{bgcolor:"#343434",src:t,status:i}),r.a.createElement("p",{className:xa.a.memberName},a.length>20?"".concat(a.substr(0,20),"..."):a))))):r.a.createElement("div",null,j?r.a.createElement(Na,{username:a,logoUrl:t,userCode:c,id:j,outside:function(){return S(!1)}}):null,r.a.createElement(le.a,{appendTo:function(){return document.getElementById("root")},interactive:!0,onTrigger:function(e){return C(e)},render:function(){return r.a.createElement(Ea,{showProfile:function(e){g.hide(),S(e)},id:s,left:!0,userCode:c,name:a,logo:t,bot:r.a.createElement("p",{className:xa.a.profileRank},"Rank: ",0===o?"User":1===o?"Admin":"Owner")})},onHide:q,trigger:"click",placement:"left"},r.a.createElement("div",{onClick:V,className:"".concat(xa.a.member," ").concat(k?xa.a.active:null)},r.a.createElement(ye,{bgcolor:"#343434",src:t,status:i}),r.a.createElement("p",{className:xa.a.memberName},a))))},Ba=function(e){var t=e.name,a=e.users;return r.a.createElement("div",{className:xa.a.userList},r.a.createElement("div",{className:xa.a.rankSeparator},r.a.createElement("p",{className:xa.a.rankName},t)),a[0]?a.map((function(e,t){return r.a.createElement(ya,{status:e.status,userId:e.id,rank:e.role,key:t,name:e.username,userCode:e.userCode,logo:e.logoUrl})})):null)},ka=function(){var e=Object(n.useContext)(G).usersList;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Le.Scrollbars,{autoHide:!0,style:{height:"100%"}},r.a.createElement(Ba,{name:"Members",users:e||[]})))},wa=["#BDBDBD","#27AE60","#F2994A","#EB5757"],Ia=function(e){var t=e.type,a=e.status,c=e.user,o=Object(n.useContext)($).activeChannel,s=Object(n.useState)({}),i=Object(l.a)(s,2),u=i[0],m=i[1],d=Object(F.h)(),v=d.FriendID,p=d.ChannelID;return r.a.createElement("div",{className:la.a.handler},r.a.createElement("div",{className:la.a.top},r.a.createElement(Rt,{type:o.id===p||v?t:1,name:o.id===p||v?o.name:"No text channel",userCode:v?o.code:null},r.a.createElement("div",{style:{width:10,height:10,backgroundColor:wa[a],display:"flex",marginLeft:"10px",borderRadius:50}}))),r.a.createElement("div",{className:la.a.content},r.a.createElement("div",{className:la.a.chatFlex},o.id===p||v?r.a.createElement(r.a.Fragment,null,r.a.createElement(ja,{setEditMessage:m}),r.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center",alignSelf:"flex-end",zIndex:20}},r.a.createElement(ua,{setEditMessage:m,content:u,channel:o.name,type:t}))):null),null!=c?r.a.createElement("div",{className:la.a.userList},r.a.createElement(ka,null)):null))},La=a(31),Ua=a.n(La),Fa=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(U.a)(),s=Object(l.a)(o,2)[1],i=Object(n.useRef)(),u=Object(n.useRef)(),d=Object(F.g)();return r.a.createElement("div",{className:Ua.a.handler},a?r.a.createElement("div",{className:"".concat(Ua.a.alert)},r.a.createElement("span",{className:Ua.a.closebtn,onClick:function(){c("")}},"\xd7"),a):null,r.a.createElement("div",{className:"".concat(Ua.a.login," ").concat(Ua.a.slideInTop)},r.a.createElement("form",{onSubmit:function(e){return e.preventDefault(),k("authorize",{email:i.current.value,password:u.current.value}).then((function(e){var t=e.error,a=e.errorCode,n=e.loginToken;if(2001===a)return c("Wrong email or password");t||(n?(s("Authorization",n),d.push("/@me")):c("Unknown error"))})).catch((function(){c("Unknown error")})),!0}},r.a.createElement("div",{className:Ua.a.input},r.a.createElement("p",{className:Ua.a.inputText},"E-MAIL"),r.a.createElement("input",{type:"email",className:Ua.a.inputForm,ref:i,required:!0})),r.a.createElement("div",{className:Ua.a.input},r.a.createElement("p",{className:Ua.a.inputText},"PASSWORD"),r.a.createElement("input",{type:"password",className:Ua.a.inputForm,ref:u,required:!0})),r.a.createElement("input",{type:"submit",className:Ua.a.inputButton,value:"Login"}),r.a.createElement("div",{className:Ua.a.bottom},r.a.createElement("p",{className:Ua.a.redirect},"Need an account ? "),r.a.createElement(m.b,{to:"/register",style:{textDecoration:"none"}},r.a.createElement("p",{className:Ua.a.switch},"Register"))))))},Aa=a(26),Da=a.n(Aa),Ta=function(){var e=Object(U.a)(),t=Object(l.a)(e,2)[1],a=Object(n.useState)(""),c=Object(l.a)(a,2),o=c[0],s=c[1],i=Object(n.useState)(""),u=Object(l.a)(i,2),d=u[0],v=u[1],p=Object(n.useState)(""),E=Object(l.a)(p,2),_=E[0],f=E[1],h=Object(n.useState)(""),b=Object(l.a)(h,2),g=b[0],C=b[1],N=Object(n.useState)(""),O=Object(l.a)(N,2),j=O[0],S=O[1],x=Object(n.useState)(""),y=Object(l.a)(x,2),B=y[0],k=y[1];return r.a.createElement("div",{className:"".concat(Da.a.login," ").concat(Da.a.slideInTop)},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),w("user",{email:_,username:o,password:d},null).then((function(e){var a=e.error,n=e.errorCode,r=e.authorization;return 5005===n?(g&&S(""),B&&k(""),S(a)):5008===n?(g&&S(""),j&&S(""),k(a)):5006===n?(j&&S(""),B&&k(""),C(a)):void t("Authorization",r)}))}},r.a.createElement("div",{className:Da.a.input},r.a.createElement("p",{className:Da.a.inputText},"E-MAIL"),r.a.createElement("input",{value:_,onChange:function(e){return f(e.target.value)},type:"email",className:"".concat(Da.a.inputForm," ").concat(B?Da.a.errorBorder:null),required:!0}),B?r.a.createElement("div",{style:{color:"#EB5757"}},B):null),r.a.createElement("div",{className:Da.a.input},r.a.createElement("p",{className:Da.a.inputText},"USERNAME"),r.a.createElement("input",{value:o,onChange:function(e){return s(e.target.value)},type:"text",className:"".concat(Da.a.inputForm," ").concat(g?Da.a.errorBorder:null),required:!0}),g?r.a.createElement("div",{style:{color:"#EB5757"}},g):null),r.a.createElement("div",{className:Da.a.input},r.a.createElement("p",{className:Da.a.inputText},"PASSWORD"),r.a.createElement("input",{value:d,onChange:function(e){return v(e.target.value)},type:"password",className:"".concat(Da.a.inputForm," ").concat(j?Da.a.errorBorder:null),required:!0}),j?r.a.createElement("div",{style:{color:"#EB5757"}},j):null),r.a.createElement("input",{type:"submit",className:Da.a.inputButton,value:"Register"}),r.a.createElement("div",{className:Da.a.bottom},r.a.createElement("p",{className:Da.a.redirect},"Already an account ? "),r.a.createElement(m.b,{to:"/login",style:{textDecoration:"none"}},r.a.createElement("p",{className:Da.a.switch}," Login")))))},Pa=function(){var e=Object(U.a)(),t=Object(l.a)(e,1)[0].Authorization;return t?r.a.createElement("div",{className:Dt.a.handler},B.TopBar?r.a.createElement(Ft,null):null,r.a.createElement("div",{className:Dt.a.container},r.a.createElement(m.a,null,r.a.createElement(F.d,null,r.a.createElement(F.b,{path:"/@me/:FriendID"},r.a.createElement(oe,null),r.a.createElement(kt,{type:0,name:"DIRECT MESSAGES"}),r.a.createElement(Ia,{type:0})),r.a.createElement(F.b,{path:"/@me"},r.a.createElement(oe,null),r.a.createElement(kt,{type:0,name:"DIRECT MESSAGES"}),r.a.createElement(ca,null)),r.a.createElement(F.b,{path:"/:ServerID/:ChannelID"},r.a.createElement(oe,null),r.a.createElement(kt,{type:1}),r.a.createElement(Ia,{user:!0,type:1})),r.a.createElement(F.b,{path:"/:ServerID"},r.a.createElement(oe,null),r.a.createElement(kt,{type:1}),r.a.createElement(Ia,{user:!0,type:1})),r.a.createElement(F.b,{path:"/"},r.a.createElement(F.a,{push:!0,to:"/@me"})))))):r.a.createElement("div",{className:Dt.a.handler},r.a.createElement("div",{className:Dt.a.container},r.a.createElement(m.a,null,r.a.createElement(F.d,null,r.a.createElement(F.b,{path:"/login"},t?r.a.createElement(F.a,{to:"/@me"}):r.a.createElement(Fa,null)),r.a.createElement(F.b,{path:"/register"},t?r.a.createElement(F.a,{to:"/@me"}):r.a.createElement(Ta,null)),r.a.createElement(F.b,{path:"/"},r.a.createElement(F.a,{push:!0,to:"/login"}))))))},Ma=a(229),Ra=(a(224),ct()(B.eventSocket)),Ha=function(e){var t=e.children,a=Object(U.a)(),r=Object(l.a)(a,1)[0].Authorization,c=Object(n.useContext)(ae),o=c.messages,s=c.setMessages,i=Object(n.useContext)(_),u=i.activeServer,m=i.setServer,d=Object(n.useContext)($),v=d.activeChannel,p=d.setChannel,E=Object(n.useContext)(X).currentUser,f=Object(n.useContext)(j),h=f.serverList,g=f.setServers,C=Object(n.useContext)(G),N=C.usersList,O=C.setUsersList,S=Object(n.useContext)(q),x=S.channelsList,y=S.setChannels,B=Object(n.useContext)(ce),k=B.voiceUserList,w=B.setVoiceUsers,I=Object(n.useContext)(Zt),L=I.friendsList,F=I.setFriendsList,A=Object(n.useState)(""),D=Object(l.a)(A,2),T=D[0],P=D[1],M=Object(n.useState)(""),R=Object(l.a)(M,2),H=R[0],z=R[1],V=Object(n.useCallback)((function(e,t){k[t]||(k[t]=[]),k[t].push(e),w(Object(Ce.a)({},k))}),[k,w]),W=Object(n.useCallback)((function(e,t){k&&k[t]&&k[t].some((function(a,n){return a.id===e&&(k[t].splice(n,1),w(Object(Ce.a)({},k)),!0)}))}),[k,w]);return Object(n.useEffect)((function(){T!==u.id&&void 0!==u.id&&(Ra.emit("unsubscribeServer",T),"@me"!==u&&Ra.emit("subscribeServer",{Authorization:r,serverID:u.id}),P(u.id)),H!==E.id&&(Ra.emit("unsubscribeMyself",H),Ra.emit("subscribeMyself",{Authorization:r}),z(E.id))}),[E,u,v,T,H,z,P,r]),Object(n.useEffect)((function(){Ra.removeListener("newMessage"),Ra.on("newMessage",(function(e){var t=e.channelID,a=e.messageID,n=e.content,r=e.authorID,c=e.authorName,l=e.authorLogo,i=e.authorCode,m=e.date,d=e.serverID;u.id===d&&t===v.id&&E.id!==r&&s([].concat(Object(b.a)(o),[{authorId:r,channel:t,content:n,date:m,id:a,userCode:i,userLogo:l,username:c,server:d}]))})),Ra.removeListener("updateMessage"),Ra.on("updateMessage",(function(e){var t=e.serverID,a=e.messageID,n=e.newContent,r=e.authorID;u.id===t&&(E.id!==r&&o.some((function(e){return e.id===a&&(e.content=n,!0)})),s(Object(b.a)(o)))})),Ra.removeListener("deleteMessage"),Ra.on("deleteMessage",(function(e){var t=e.messageID,a=e.authorID,n=e.serverID;u.id===n&&(E.id!==a&&o.some((function(e,a){return e.id===t&&(o.splice(a,1),!0)})),s(Object(b.a)(o)))})),Ra.removeListener("newDM"),Ra.on("newDM",(function(e){var t=e.channelID,a=e.messageID,n=e.content,r=e.authorID,c=e.authorStatus,l=e.authorName,i=e.authorLogo,m=e.authorCode,d=e.date,p=e.serverID;u.id===p&&(E.id!==r&&v.id===r&&s([].concat(Object(b.a)(o),[{authorId:r,channel:t,content:n,date:d,id:a,userCode:m,userLogo:i,username:l,server:p}])),x.some((function(e){return e.id===r}))||(x.push({id:r,name:l,logoUrl:i,status:c,code:m,lastMessage:Date.now()}),x.sort((function(e,t){return t.lastMessage-e.lastMessage})),y(Object(b.a)(x))))})),Ra.removeListener("updateDM"),Ra.on("updateDM",(function(e){var t=e.serverID,a=(e.channelID,e.messageID),n=e.newContent,r=e.authorID;u.id===t&&v.id===r&&E.id!==r&&(o.some((function(e){return e.id===a&&(e.content=n,!0)})),s(Object(b.a)(o)))})),Ra.removeListener("deleteDM"),Ra.on("deleteDM",(function(e){var t=e.messageID,a=e.authorID,n=e.serverID;u.id===n&&v.id===a&&E.id!==a&&(o.some((function(e,a){return e.id===t&&(o.splice(a,1),!0)})),s(Object(b.a)(o)))}))}),[o,E,s,u,v,m,x,y]),Object(n.useEffect)((function(){Ra.removeListener("newChannel"),Ra.on("newChannel",(function(e){var t=e.serverID,a=e.categoryID,n=e.channelID,r=e.channelName,c=e.type;u.id===t&&(x.some((function(e){return e.categoryId===a&&(e.channelsList.push({id:n,name:r,type:c}),!0)})),y(Object(b.a)(x)))})),Ra.removeListener("updateChannel"),Ra.on("updateChannel",(function(e){var t=e.serverID,a=e.channelID,n=e.newChannelName;u.id===t&&(x.some((function(e){return e.channelsList.some((function(e,t){return e.id===a&&(e.name=n,!0)}))})),y(Object(b.a)(x)))})),Ra.removeListener("deleteChannel"),Ra.on("deleteChannel",(function(e){var t=e.serverID,a=e.channelID;u.id===t&&(x.some((function(e){return e.channelsList.some((function(t,n){return t.id===a&&(e.channelsList.splice(n,1),!0)}))})),v.id===a&&p({}),y(Object(b.a)(x)))})),Ra.removeListener("newVoiceUser"),Ra.on("newVoiceUser",(function(e){V(e,e.channelID)})),Ra.removeListener("removeVoiceUser"),Ra.on("removeVoiceUser",(function(e){W(e.id,e.channelID)})),Ra.removeListener("newCategory"),Ra.on("newCategory",(function(e){var t=e.serverID,a=e.categoryID,n=e.categoryName;u.id===t&&(x.push({categoryId:a,categoryName:n,channelsList:[]}),y(Object(b.a)(x)))})),Ra.removeListener("updateCategory"),Ra.on("updateCategory",(function(e){var t=e.serverID,a=e.categoryID,n=e.newCategoryName;u.id===t&&(x.some((function(e,t){return e.categoryId===a&&(e.categoryName=n,!0)})),y(Object(b.a)(x)))})),Ra.removeListener("deleteCategory"),Ra.on("deleteCategory",(function(e){var t=e.serverID,a=e.categoryID;u.id===t&&(x.some((function(e){return e.categoryId===a&&e.channelsList.some((function(e){return v.id===e.id}))}))&&p({}),x.some((function(e,t){return e.categoryId===a&&(x.splice(t,1),!0)})),y(Object(b.a)(x)))})),Ra.removeListener("newUser"),Ra.on("newUser",(function(e){var t=e.serverID,a=e.userID,n=e.username,r=e.userCode,c=e.logoUrl,o=e.status;u.id===t&&E.id!==a&&(N.push({id:a,username:n,userCode:r,logoUrl:c,status:o,role:0}),O(Object(b.a)(N)))})),Ra.removeListener("updateUser"),Ra.on("updateUser",(function(e){var t=e.serverID,a=e.userID,n=e.username,r=e.userCode,c=e.logoUrl,o=e.status,l=e.role;t===u.id?(E.id===a&&(1===l?u.isAdmin=!0:0===l&&(u.isAdmin=!1)),N.some((function(e){return e.id===a&&(n&&(e.username=n),r&&(e.userCode=r),c&&(e.logoUrl=c),void 0!==o&&(e.status=o),void 0!==l&&(e.role=l),O(Object(b.a)(N)),!0)}))):E.id===t&&"@me"===u.id&&(x.some((function(e){return e.id===a&&(n&&(e.name=n),r&&(e.code=r),c&&(e.logoUrl=c),void 0!==o&&(e.status=o),y(Object(b.a)(x)),!0)})),L.some((function(e){return e.id===a&&(n&&(e.name=n),r&&(e.code=r),c&&(e.logoUrl=c),void 0!==o&&(e.status=o),F(Object(b.a)(L)),!0)})))})),Ra.removeListener("deleteUser"),Ra.on("deleteUser",(function(e){var t=e.serverID,a=e.userID;N.some((function(e,t){return e.id===a&&(N.splice(t,1),!0)})),E.id===a&&(m({id:"/@me"}),h.some((function(e,a){return e.id===t&&(h.splice(a,1),g(Object(b.a)(h)),!0)}))),O(Object(b.a)(N))}))}),[F,L,V,W,u,m,v,p,E,h,g,x,y,O,N]),Object(n.useEffect)((function(){Ra.removeListener("updateServer"),Ra.on("updateServer",(function(e){var t=e.serverID,a=e.name,n=e.logoUrl;u.id===t&&(a&&(u.name=a),m(Object(Ce.a)({},u))),h.some((function(e){return e.id===t&&(a&&(e.name=a),n&&(e.logoUrl=n),g(Object(b.a)(h)),!0)}))})),Ra.removeListener("deleteServer"),Ra.on("deleteServer",(function(e){var t=e.deleteServer;u.id===t&&m({id:"/@me"}),h.some((function(e,a){return e.id===t&&(h.splice(a,1),g(Object(b.a)(h)),!0)}))}))}),[u,m,h,g]),t};o.a.render(r.a.createElement(Z,null,r.a.createElement(Yt,null,r.a.createElement(O,null,r.a.createElement(E,null,r.a.createElement(re,null,r.a.createElement(V,null,r.a.createElement(J,null,r.a.createElement(Q,null,r.a.createElement(et,null,r.a.createElement(te,null,r.a.createElement(Ma.a,null,r.a.createElement(Ha,null,r.a.createElement(Pa,null))))))))))))),document.getElementById("root"))},23:function(e,t,a){e.exports={userList:"UserList_userList__2Fguy",rankSeparator:"UserList_rankSeparator__3w4TL",rankName:"UserList_rankName__3AoIv",member:"UserList_member__3tdJI",memberName:"UserList_memberName__-Xqiw",active:"UserList_active__CZdKO",profileRank:"UserList_profileRank__3wP4f",contextMenu:"UserList_contextMenu__W1WOt",contextButton:"UserList_contextButton__2oP-o",normalContext:"UserList_normalContext__1ecMT",banButton:"UserList_banButton__3rgvc",leaveButton:"UserList_leaveButton__34ZOv",cancelButton:"UserList_cancelButton__2fjL1"}},26:function(e,t,a){e.exports={slideInTop:"Register_slideInTop__1x_Ss",login:"Register_login__1flqA",input:"Register_input__2cpJd",inputText:"Register_inputText__TcBIf",inputForm:"Register_inputForm__1XT3m",inputButton:"Register_inputButton__clGmc",redirect:"Register_redirect__1zZQ5",switch:"Register_switch__3Gt23",bottom:"Register_bottom__2nBcl",errorBorder:"Register_errorBorder__2xBi1"}},31:function(e,t,a){e.exports={slideInTop:"Login_slideInTop__3Q1ab",handler:"Login_handler__wzSdo",closebtn:"Login_closebtn__KZFdT",login:"Login_login__36vhJ",input:"Login_input__2p0_A",inputText:"Login_inputText__1WypS",inputForm:"Login_inputForm__3eu0m",inputButton:"Login_inputButton__lQrC5",redirect:"Login_redirect__3s39S",switch:"Login_switch__12XtL",bottom:"Login_bottom__1RvXm",alert:"Login_alert__12aAx"}},32:function(e,t,a){e.exports={handler:"Chat_handler__hOa3n",top:"Chat_top__3faAZ",boxContainer:"Chat_boxContainer__3ifwd",textbox:"Chat_textbox__qSfFE",border:"Chat_border__1-vED",content:"Chat_content__29upD",chatFlex:"Chat_chatFlex__3xo7C",MainChat:"Chat_MainChat__2cdcs",chatInput:"Chat_chatInput__2kyL1",userList:"Chat_userList__1s6_p",cancel:"Chat_cancel__21DMf"}},33:function(e,t,a){e.exports={message:"Message_message__1L1E5",logo:"Message_logo__3GBKO",profileRank:"Message_profileRank__Jb1W4",content:"Message_content__35FF7",author:"Message_author__2i8H1",date:"Message_date__3d8_I",messageContent:"Message_messageContent__2or71",contextMenu:"Message_contextMenu__24Ch2",contextButton:"Message_contextButton__1mjjJ",delete:"Message_delete__TlyCT",edit:"Message_edit__PFEaN",leaveButton:"Message_leaveButton__1x2tW",cancelButton:"Message_cancelButton__2Hk7d"}},35:function(e,t,a){e.exports={button:"ServerButton_button__w0Q1r",dm:"ServerButton_dm___DYXH",image:"ServerButton_image__3Walj",serverButton:"ServerButton_serverButton__3g6Af",active:"ServerButton_active__2n0Gh",addServer:"ServerButton_addServer__3ST4a",addServerCross:"ServerButton_addServerCross__WIlEX"}},39:function(e,t,a){e.exports={slideLeft:"UserTippyProfile_slideLeft__2rEq9",slideRight:"UserTippyProfile_slideRight__24NZb",profile:"UserTippyProfile_profile__QnSmX",profileTop:"UserTippyProfile_profileTop__2CnVk",profileBot:"UserTippyProfile_profileBot__1LoIw",profileUsername:"UserTippyProfile_profileUsername__3Rens",profileUsernameID:"UserTippyProfile_profileUsernameID__L9RIr",profileLogo:"UserTippyProfile_profileLogo__P5GHl",dmHandler:"UserTippyProfile_dmHandler__18FZQ",dmInputHandler:"UserTippyProfile_dmInputHandler__i8ogx",dmInput:"UserTippyProfile_dmInput__3Md7h",errorBorder:"UserTippyProfile_errorBorder__1Rk4u"}},42:function(e,t,a){e.exports={handler:"BansHandler_handler__20ohm",removeBan:"BansHandler_removeBan__1k7Ou",banned:"BansHandler_banned__1T89w",author:"BansHandler_author__2C6Ub"}},43:function(e,t,a){e.exports={popup:"CreateJoinServer_popup__MAkFE",popupHandler:"CreateJoinServer_popupHandler__3-TVJ",title:"CreateJoinServer_title__2D5Rs",content:"CreateJoinServer_content__2zaSj",joinCreate:"CreateJoinServer_joinCreate__3XRJq",icons:"CreateJoinServer_icons__2JwqA",join:"CreateJoinServer_join__3VKD-",create:"CreateJoinServer_create__1i6Lc",slide:"CreateJoinServer_slide__RxMR6",slider:"CreateJoinServer_slider__3bw5T"}},44:function(e,t,a){e.exports={handler:"UserContainer_handler__2JQNx",username:"UserContainer_username__1km5Y",userLogo:"UserContainer_userLogo__-3nJE",usercode:"UserContainer_usercode__1Rp9q",userInfo:"UserContainer_userInfo__1h770",infoWrapper:"UserContainer_infoWrapper__xnEUN",controller:"UserContainer_controller__21DON",controlButton:"UserContainer_controlButton__3pP5q"}},49:function(e,t,a){e.exports={handler:"FriendChannelButton_handler__34l7Q",remove:"FriendChannelButton_remove__12htT",nameLogo:"FriendChannelButton_nameLogo__3C0an",active:"FriendChannelButton_active__3r207",logo:"FriendChannelButton_logo__3jdI1",username:"FriendChannelButton_username__3dael",friendsButton:"FriendChannelButton_friendsButton__3urc4",friendsText:"FriendChannelButton_friendsText__CElad",leaveButton:"FriendChannelButton_leaveButton__i99vD",cancelButton:"FriendChannelButton_cancelButton__26qXA"}},5:function(e,t,a){e.exports={navSeparator:"UserSettings_navSeparator__3zDEa",navButton:"UserSettings_navButton__erifh",logout:"UserSettings_logout__3Z_93",handler:"UserSettings_handler__1LS02",title:"UserSettings_title__2T5G2",userContainer:"UserSettings_userContainer__1R2cj",userInfo:"UserSettings_userInfo__2eZ3H",userInfoText:"UserSettings_userInfoText__3xV7n",userInfoTitle:"UserSettings_userInfoTitle__1IeNm",userInfoHandler:"UserSettings_userInfoHandler__3pWXG",edit:"UserSettings_edit__2p9fa",titleExit:"UserSettings_titleExit__SoGqE",end:"UserSettings_end__1VLrI",exitButton:"UserSettings_exitButton__3PpFo",inputHandler:"UserSettings_inputHandler__3UoFZ",input:"UserSettings_input__1rga9",updateButton:"UserSettings_updateButton__jEkh5",cancelButton:"UserSettings_cancelButton__1zg2p",changePassword:"UserSettings_changePassword__vhPuY",errorText:"UserSettings_errorText__3BYY8",errorBorder:"UserSettings_errorBorder__1SYIx",imageInput:"UserSettings_imageInput__1twOi",changeAvatar:"UserSettings_changeAvatar__Cx8En",deleteProfilePicture:"UserSettings_deleteProfilePicture__113or",canReceiveDM:"UserSettings_canReceiveDM__2Nw2Y"}},50:function(e,t,a){e.exports={switch:"FriendsTypeSwitcher_switch__3Nrpn",switcher:"FriendsTypeSwitcher_switcher__32AD6",switcherText:"FriendsTypeSwitcher_switcherText__2ZlJQ",active:"FriendsTypeSwitcher_active__1hroi",addFriendButton:"FriendsTypeSwitcher_addFriendButton__JxoiP"}},51:function(e,t,a){e.exports={handler:"Common_handler__2nmGU",listUser:"Common_listUser__1oyAG",name:"Common_name__2dyaR",userCode:"Common_userCode__TeaI7",serverLogo:"Common_serverLogo__H32hq"}},52:function(e,t,a){e.exports={handler:"StatusChanger_handler__DdE1b",select:"StatusChanger_select__yTvWI",active:"StatusChanger_active__1ZdjM"}},54:function(e,t,a){e.exports={handler:"ChannelList_handler__2cTu0",handlerBR:"ChannelList_handlerBR__3dONV",top:"ChannelList_top__gfLtO",channelList:"ChannelList_channelList__2i2wJ",UserContainer:"ChannelList_UserContainer__Y4y-N",dmSeparator:"ChannelList_dmSeparator__3tncS"}},59:function(e,t,a){e.exports={addFriend:"AddFriend_addFriend__1cCrW",input:"AddFriend_input__2y4Xo",button:"AddFriend_button__243lF",alert:"AddFriend_alert__2ofXm",success:"AddFriend_success__570qP",closebtn:"AddFriend_closebtn__2N4Lq"}},6:function(e,t,a){e.exports={category:"ServerCategory_category__3v3h9",name:"ServerCategory_name__NjS_w",nameDiv:"ServerCategory_nameDiv__Tvgih",categoryName:"ServerCategory_categoryName__ec-eD",arrow:"ServerCategory_arrow__2NyB7",addChannel:"ServerCategory_addChannel__sKG3H",channel:"ServerCategory_channel__2keQg",channelName:"ServerCategory_channelName__1GkDs",channelOption:"ServerCategory_channelOption__2YZgS",activeChannel:"ServerCategory_activeChannel__3lZws",hidden:"ServerCategory_hidden__2TjkZ",nonactiveChannel:"ServerCategory_nonactiveChannel__12zR5",contextMenu:"ServerCategory_contextMenu__1pm1h",contextButton:"ServerCategory_contextButton__11XAr",leave:"ServerCategory_leave__2Z5pR",cancelButton:"ServerCategory_cancelButton__22GbU",deleteButton:"ServerCategory_deleteButton__19JBR",settings:"ServerCategory_settings__1QS4D",voiceUser:"ServerCategory_voiceUser__2-HyE",voiceUsername:"ServerCategory_voiceUsername__1cf5R",userList:"ServerCategory_userList__2zkfH"}},61:function(e,t,a){e.exports={topBar:"TopBar_topBar__93y7N",appName:"TopBar_appName__LI2xm",controlMenu:"TopBar_controlMenu__LjqGz",menuButton:"TopBar_menuButton__mfHQA",reduce:"TopBar_reduce__1PsvF",enlarge:"TopBar_enlarge__61UIY",exit:"TopBar_exit__3ZUrR"}},62:function(e,t,a){e.exports={navButton:"ServerSettings_navButton__azKKy",activeNav:"ServerSettings_activeNav__2mo3u"}},68:function(e,t,a){e.exports={settings:"Settings_settings__1wcNi",navBar:"Settings_navBar__18caE",buttonList:"Settings_buttonList__2_UwJ",content:"Settings_content__1U6Js",title:"Settings_title__kJDaD"}},69:function(e,t,a){e.exports={handler:"VoiceStatus_handler__2u0pe",connected:"VoiceStatus_connected__1RSt-",connecting:"VoiceStatus_connecting__2qlzF",disconnect:"VoiceStatus_disconnect__zek8n",channelName:"VoiceStatus_channelName__23ZkY"}},7:function(e,t,a){e.exports={cancelButton:"AddChannel_cancelButton__pZS6I",createButton:"AddChannel_createButton__2Ljcc",content:"AddChannel_content__1QcKT",titleHandler:"AddChannel_titleHandler__sYmXx",categoryName:"AddChannel_categoryName__3xfsy",title:"AddChannel_title__2gnsI",subTitle:"AddChannel_subTitle__MufKC",form:"AddChannel_form__2VZ2c",channelType:"AddChannel_channelType__106Sf",channelTypeFa:"AddChannel_channelTypeFa__13BV7",activeType:"AddChannel_activeType__2TePj",checkbox:"AddChannel_checkbox__rzLrt",checkboxSpan:"AddChannel_checkboxSpan__3_Bl3",inputText:"AddChannel_inputText__3mWwA",channelName:"AddChannel_channelName__3Sfyp",error:"AddChannel_error__1d-5L",borderError:"AddChannel_borderError__2hluJ",deleteButton:"AddChannel_deleteButton__2FdmL"}},70:function(e,t,a){e.exports={handler:"ChannelName_handler__3qYKq",channelInfo:"ChannelName_channelInfo__36POk",channelLogo:"ChannelName_channelLogo__3cIGC",channelName:"ChannelName_channelName__1G7rM",userCode:"ChannelName_userCode__cDR61"}},73:function(e,t,a){e.exports={popup:"Popup_popup__3m2fX",popupHandler:"Popup_popupHandler__3KJ8W",top:"Popup_top__SUAZz",bottom:"Popup_bottom__242Vl"}},74:function(e,t,a){e.exports={handler:"App_handler__29cuc",container:"App_container___P6pN"}},82:function(e,t,a){e.exports={navButton:"ChannelSettings_navButton__KqMPP"}},86:function(e,t,a){e.exports={handler:"ServerList_handler__1-b2z",serverHandler:"ServerList_serverHandler__3b5-F",serverSeparator:"ServerList_serverSeparator__17OXa"}},87:function(e,t,a){e.exports={handler:"ManageInvite_handler__2TAg1",invite:"ManageInvite_invite__2iAsf",delete:"ManageInvite_delete__3w2zj"}},91:function(e,t,a){}},[[135,1,2]]]);
//# sourceMappingURL=main.ba94c846.chunk.js.map